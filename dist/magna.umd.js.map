{"version":3,"file":"magna.umd.js","sources":["../src/symbols/index.js","../src/utils/log.js","../src/utils/mergeDeepRight.js","../src/utils/pad.js","../src/utils/getRootNode.js","../src/types/Node.js","../node_modules/strict-uri-encode/index.js","../node_modules/decode-uri-component/index.js","../node_modules/split-on-first/index.js","../node_modules/query-string/index.js","../src/utils/combineUrlParams.js","../src/utils/debounce.js","../src/utils/logAction.js","../src/utils/logRoute.js","../src/utils/prettify.js","../src/utils/radioClass.js","../src/utils/regexify.js","../src/utils/tap.js","../src/utils/trace.js","../src/utils/uglify.js","../src/request/Request.js","../node_modules/rambda/src/curry.js","../node_modules/rambda/src/assoc.js","../node_modules/rambda/src/internal/_isInteger.js","../node_modules/rambda/src/assocPath.js","../node_modules/rambda/src/lens.js","../node_modules/rambda/src/path.js","../node_modules/rambda/src/lensPath.js","../node_modules/rambda/src/over.js","../node_modules/rambda/src/view.js","../node_modules/rambda/src/type.js","../node_modules/rambda/src/equals.js","../src/types/Magna.js","../src/types/Import.js","../src/types/Lazy.js","../src/types/Module.js","../src/types/Plugin.js","../src/types/Predicate.js","../src/types/Route.js","../src/types/Singleton.js","../src/predicates/elementExists.js","../src/predicates/one.js","../src/predicates/onlyOnRouteChange.js","../src/predicates/route.js","../src/predicates/subscribe.js"],"sourcesContent":["export const INITIALIZED = Symbol('INITIALIZED')\r\nexport const INIT_PROMISE = Symbol('INIT_PROMISE')\r\nexport const INIT_DONE = Symbol('INIT_DONE')\r\nexport const DESTROY_PROMISE = Symbol('DESTROY_PROMISE')\r\nexport const DESTROY_DONE = Symbol('DESTROY_DONE')\r\nexport const POPSTATE_PROMISE = Symbol('POPSTATE_PROMISE')\r\nexport const POPSTATE_DONE = Symbol('POPSTATE_DONE')\r\nexport const CATCH_PROMISE = Symbol('CATCH_PROMISE')\r\nexport const CATCH_DONE = Symbol('CATCH_DONE')","export default (message, color, ...args) => {\r\n  console.groupCollapsed(\r\n    `%c ${message} `,\r\n    `border-left:6px solid ${color};color:${color}`,\r\n  )\r\n  console.log(...args)\r\n  console.groupEnd()\r\n}\r\n","const isObject = possibleObject =>\r\n  Object.prototype.toString.call(possibleObject) === '[object Object]'\r\n\r\nexport default function mergeDeepRight(left, right) {\r\n  const ret = {}\r\n  for (let key in right) {\r\n    if (Object.hasOwnProperty.call(right, key) === false) {\r\n      continue\r\n    }\r\n    if (isObject(right[key])) {\r\n      ret[key] = mergeDeepRight(left[key], right[key])\r\n    }\r\n    else {\r\n      ret[key] = right[key]\r\n    }\r\n  }\r\n  for (let key in left) {\r\n    if (Object.hasOwnProperty.call(left, key) && typeof ret[key] === 'undefined') {\r\n      ret[key] = left[key]\r\n    }\r\n  }\r\n  return ret\r\n}\r\n","/**\r\n * pad\r\n *\r\n * Add string padding to unsure it uses a {count} amount of characters\r\n *\r\n * @param {int}  count  length of output string\r\n * @param {String}  string\r\n * @param {String}  char  character or string to pad the end of the string with\r\n * @returns {string}\r\n */\r\nexport default function pad(count, string, char = ' ') {\r\n  return string + char.repeat((count - string.length) > 0 ? count - string.length : 0)\r\n}\r\n","export default function getRootNode(node) {\r\n  return node.parent\r\n    ? getRootNode(node.parent)\r\n    : node\r\n}\r\n","import {\r\n  INITIALIZED,\r\n  INIT_DONE,\r\n  INIT_PROMISE,\r\n  POPSTATE_DONE,\r\n  POPSTATE_PROMISE,\r\n} from '../symbols'\r\n\r\nimport log from '../utils/log'\r\nimport mergeDeepRight from '../utils/mergeDeepRight'\r\nimport pad from '../utils/pad'\r\nimport getRootNode from '../utils/getRootNode'\r\n\r\nconst PARENTS = new Map\r\nconst ROOT = new Map\r\nconst makeId = ((id) => () => (id++).toString(16))(16000)\r\n\r\n// propagate down\r\nclass PropagateError extends Error {}\r\nclass BubbleError extends Error {}\r\n\r\nexport default class Node {\r\n\r\n  [Symbol.toStringTag] = 'Node';\r\n\r\n  constructor(config = {}, nodes = []) {\r\n\r\n    if (this.constructor.defaultConfig) {\r\n      this.config = mergeDeepRight(this.constructor.defaultConfig, config)\r\n    } else if (this.constructor.config) {\r\n      this.config = mergeDeepRight(this.constructor.config, config)\r\n    } else {\r\n      this.config = config\r\n    }\r\n    this.nodes = nodes\r\n    this.id = makeId()\r\n\r\n    this[INITIALIZED] = false\r\n    this[INIT_PROMISE] = Promise.resolve(null)\r\n    this[INIT_DONE] = false\r\n    this[POPSTATE_PROMISE] = Promise.resolve(null)\r\n    this[POPSTATE_DONE] = false\r\n\r\n    this.initChildren()\r\n  }\r\n  // TODO: add link to root magna node to each child node\r\n  initChildren() {\r\n    this.nodes.forEach(node => {\r\n      node.parent = this\r\n    })\r\n  }\r\n  init({ request, response }) {\r\n    return this.id\r\n  }\r\n  destroy({ request }) {\r\n  }\r\n  popstate({ request, response }) {\r\n    this.info('popstate')\r\n  }\r\n  shouldInitialize({ request }) {\r\n    return !this.parent || this.parent[INITIALIZED]\r\n  }\r\n  initPromise({ request }) {\r\n    return Promise.resolve(`http: ${this.id}`)\r\n  }\r\n  getInitPromise({ request }) {\r\n    this[INITIALIZED] = false\r\n    if (this.shouldInitialize({ request })) {\r\n      this.info(`init`)\r\n      this[INITIALIZED] = true\r\n      return this.initPromise({ request })\r\n    }\r\n  }\r\n  popstatePromise({ request }) {\r\n    return Promise.resolve(`popstate: ${this.id}`)\r\n  }\r\n  getPopstatePromise({ request }) {\r\n    this[INITIALIZED] = false\r\n    if (this.shouldInitialize({ request })) {\r\n      this[INITIALIZED] = true\r\n      return this.popstatePromise({ request })\r\n    }\r\n  }\r\n  getParentInitPromise() {\r\n    return this.parent ? this.parent[INIT_PROMISE] : Promise.resolve('root')\r\n  }\r\n  getParentPopstatePromise() {\r\n    return this.parent ? this.parent[POPSTATE_PROMISE] : Promise.resolve('root')\r\n  }\r\n  runInit({ request }) {\r\n    // wait for both the parent and own promise to resolve\r\n    this[INIT_PROMISE] = Promise.all([\r\n      // get parent promise\r\n      this.getParentInitPromise({ request }),\r\n      // own promise\r\n      this.getInitPromise({ request })\r\n    ])\r\n    // resolve the promise\r\n      .then(([parentResponse, response]) => {\r\n        // only call init if the Node is initialized\r\n        if (this[INITIALIZED]) {\r\n          return Promise.resolve(\r\n            this.init({\r\n              request,\r\n              response,\r\n              config: this.config,\r\n            })\r\n          )\r\n        }\r\n      })\r\n      .catch(error => this.runCatch({ request, error }))\r\n\r\n    // call all the nodes\r\n    this[INIT_DONE] = Promise.all([\r\n      this[INIT_PROMISE],\r\n      ...this.nodes.map(node =>\r\n        node.runInit({ request })\r\n      )\r\n    ])\r\n\r\n    return this[INIT_DONE]\r\n  }\r\n\r\n  runPopstate({ request }) {\r\n    this[POPSTATE_PROMISE] = Promise.all([\r\n      // get parent promise\r\n      this.getParentPopstatePromise({ request }),\r\n      // own promise\r\n      this.getPopstatePromise({ request }),\r\n    ])\r\n      .then(([ parentPopstateResult, popstateResult ]) => {\r\n        // only call init if the Node is initialized\r\n          if (this[INITIALIZED]) {\r\n            return Promise.resolve(\r\n              this.popstate({\r\n                request,\r\n                response: popstateResult,\r\n                popstateResult,\r\n                config: this.config\r\n              })\r\n            )\r\n          }\r\n        }\r\n      )\r\n      // resolve the promise\r\n      .catch(error => this.runCatch({ request, error }))\r\n\r\n    // call all the nodes\r\n    this[POPSTATE_DONE] = Promise.all([\r\n      this[POPSTATE_PROMISE],\r\n      ...this.nodes.map(node =>\r\n        node.runPopstate({ request })\r\n      )\r\n    ])\r\n\r\n    return this[POPSTATE_DONE]\r\n  }\r\n\r\n  runDestroy({ request }) {\r\n    if (this[INITIALIZED]) {\r\n      this.info('destroy')\r\n      this[INITIALIZED] = false\r\n      const resolved = this.nodes.map(node => node.runDestroy({ request }))\r\n      return Promise.all([\r\n        this.destroy({ request, config: this.config }),\r\n        ...resolved\r\n      ])\r\n    }\r\n    return Promise.resolve()\r\n  }\r\n\r\n  runCatch({ request, error }) {\r\n    return this.catch({ request, error })\r\n  }\r\n\r\n  catch({ request, error }) {\r\n    if (this[INITIALIZED]) {\r\n      this[INITIALIZED] = false\r\n      switch (error.constructor) {\r\n        case PropagateError:\r\n          if (this.onPropagateError({ request, error }) !== false) {\r\n            this.nodes.forEach(node => node.catch({ request, error, stack: error.stack }))\r\n          }\r\n          break\r\n        case BubbleError:\r\n          if (this.onBubbleError({ request, error }) !== false) {\r\n            this.parent.catch({ request, error, stack: error.stack })\r\n          }\r\n          break\r\n        case Error:\r\n          this.onCatch({ request, error, stack: error.stack })\r\n        // do something for standard error\r\n      }\r\n      log(`${this.constructor.name}::error`, '#e6194b', {\r\n        self: this,\r\n        error,\r\n        stack: error.stack,\r\n      })\r\n      throw error\r\n    }\r\n  }\r\n\r\n  onCatch({ request, error }) {\r\n    this.log('onCatch', { request, error })\r\n  }\r\n\r\n  onPropagateError({ request, error }) {\r\n\r\n  }\r\n  onBubbleError({ request, error }) {\r\n\r\n  }\r\n\r\n  get parent() {\r\n    return PARENTS.get(this)\r\n  }\r\n  set parent(parent) {\r\n    return PARENTS.set(this, parent)\r\n  }\r\n\r\n  get magna() {\r\n    return ROOT.has(this)\r\n      ? ROOT.get(this)\r\n      : ROOT.set(this, getRootNode(this)), ROOT.get(this)\r\n  }\r\n\r\n  log(method, message) {\r\n    let plugin = this.constructor.plugin\r\n    if (this.magna.debug && (typeof plugin === 'undefined' || plugin.debug === true)) {\r\n      plugin = plugin || { debug: true, color: '#777' }\r\n      console.log(`%c--> ${this.constructor.name}::${method}`, `color: ${plugin.color||'#000'}`, message, this)\r\n    }\r\n  }\r\n\r\n  info(method, ...args) {\r\n    let plugin = this.constructor.plugin\r\n    if (this.magna.debug && (typeof plugin === 'undefined' || plugin.debug === true)) {\r\n      plugin = plugin || { debug: true, color: '#777' }\r\n      console.groupCollapsed(`%c%s %c%s`, 'color:#aaa', pad(10, this[Symbol.toStringTag]), `color: ${plugin.color}`, `${this.constructor.name}::${method}`)\r\n      console.log(this, ...args)\r\n      console.groupEnd()\r\n    }\r\n  }\r\n\r\n  setState(path, stateReducer) {\r\n    this.magna.setState(path, stateReducer)\r\n    return this.magna.getState(path)\r\n  }\r\n\r\n  subscribe(path, cb) {\r\n    this.magna.subscribe(this, path, cb)\r\n    return true\r\n  }\r\n\r\n  unsubscribe(path, cb) {\r\n    this.magna.unsubscribe(this, path, cb)\r\n    return true\r\n  }\r\n\r\n  loaderStart() {}\r\n  loaderStop() {}\r\n}\r\n","'use strict';\nmodule.exports = str => encodeURIComponent(str).replace(/[!'()*]/g, x => `%${x.charCodeAt(0).toString(16).toUpperCase()}`);\n","'use strict';\nvar token = '%[a-f0-9]{2}';\nvar singleMatcher = new RegExp(token, 'gi');\nvar multiMatcher = new RegExp('(' + token + ')+', 'gi');\n\nfunction decodeComponents(components, split) {\n\ttry {\n\t\t// Try to decode the entire string first\n\t\treturn decodeURIComponent(components.join(''));\n\t} catch (err) {\n\t\t// Do nothing\n\t}\n\n\tif (components.length === 1) {\n\t\treturn components;\n\t}\n\n\tsplit = split || 1;\n\n\t// Split the array in 2 parts\n\tvar left = components.slice(0, split);\n\tvar right = components.slice(split);\n\n\treturn Array.prototype.concat.call([], decodeComponents(left), decodeComponents(right));\n}\n\nfunction decode(input) {\n\ttry {\n\t\treturn decodeURIComponent(input);\n\t} catch (err) {\n\t\tvar tokens = input.match(singleMatcher);\n\n\t\tfor (var i = 1; i < tokens.length; i++) {\n\t\t\tinput = decodeComponents(tokens, i).join('');\n\n\t\t\ttokens = input.match(singleMatcher);\n\t\t}\n\n\t\treturn input;\n\t}\n}\n\nfunction customDecodeURIComponent(input) {\n\t// Keep track of all the replacements and prefill the map with the `BOM`\n\tvar replaceMap = {\n\t\t'%FE%FF': '\\uFFFD\\uFFFD',\n\t\t'%FF%FE': '\\uFFFD\\uFFFD'\n\t};\n\n\tvar match = multiMatcher.exec(input);\n\twhile (match) {\n\t\ttry {\n\t\t\t// Decode as big chunks as possible\n\t\t\treplaceMap[match[0]] = decodeURIComponent(match[0]);\n\t\t} catch (err) {\n\t\t\tvar result = decode(match[0]);\n\n\t\t\tif (result !== match[0]) {\n\t\t\t\treplaceMap[match[0]] = result;\n\t\t\t}\n\t\t}\n\n\t\tmatch = multiMatcher.exec(input);\n\t}\n\n\t// Add `%C2` at the end of the map to make sure it does not replace the combinator before everything else\n\treplaceMap['%C2'] = '\\uFFFD';\n\n\tvar entries = Object.keys(replaceMap);\n\n\tfor (var i = 0; i < entries.length; i++) {\n\t\t// Replace all decoded components\n\t\tvar key = entries[i];\n\t\tinput = input.replace(new RegExp(key, 'g'), replaceMap[key]);\n\t}\n\n\treturn input;\n}\n\nmodule.exports = function (encodedURI) {\n\tif (typeof encodedURI !== 'string') {\n\t\tthrow new TypeError('Expected `encodedURI` to be of type `string`, got `' + typeof encodedURI + '`');\n\t}\n\n\ttry {\n\t\tencodedURI = encodedURI.replace(/\\+/g, ' ');\n\n\t\t// Try the built in decoder first\n\t\treturn decodeURIComponent(encodedURI);\n\t} catch (err) {\n\t\t// Fallback to a more advanced decoder\n\t\treturn customDecodeURIComponent(encodedURI);\n\t}\n};\n","'use strict';\n\nmodule.exports = (string, separator) => {\n\tif (!(typeof string === 'string' && typeof separator === 'string')) {\n\t\tthrow new TypeError('Expected the arguments to be of type `string`');\n\t}\n\n\tif (separator === '') {\n\t\treturn [string];\n\t}\n\n\tconst separatorIndex = string.indexOf(separator);\n\n\tif (separatorIndex === -1) {\n\t\treturn [string];\n\t}\n\n\treturn [\n\t\tstring.slice(0, separatorIndex),\n\t\tstring.slice(separatorIndex + separator.length)\n\t];\n};\n","'use strict';\nconst strictUriEncode = require('strict-uri-encode');\nconst decodeComponent = require('decode-uri-component');\nconst splitOnFirst = require('split-on-first');\n\nfunction encoderForArrayFormat(options) {\n\tswitch (options.arrayFormat) {\n\t\tcase 'index':\n\t\t\treturn key => (result, value) => {\n\t\t\t\tconst index = result.length;\n\t\t\t\tif (value === undefined || (options.skipNull && value === null)) {\n\t\t\t\t\treturn result;\n\t\t\t\t}\n\n\t\t\t\tif (value === null) {\n\t\t\t\t\treturn [...result, [encode(key, options), '[', index, ']'].join('')];\n\t\t\t\t}\n\n\t\t\t\treturn [\n\t\t\t\t\t...result,\n\t\t\t\t\t[encode(key, options), '[', encode(index, options), ']=', encode(value, options)].join('')\n\t\t\t\t];\n\t\t\t};\n\n\t\tcase 'bracket':\n\t\t\treturn key => (result, value) => {\n\t\t\t\tif (value === undefined || (options.skipNull && value === null)) {\n\t\t\t\t\treturn result;\n\t\t\t\t}\n\n\t\t\t\tif (value === null) {\n\t\t\t\t\treturn [...result, [encode(key, options), '[]'].join('')];\n\t\t\t\t}\n\n\t\t\t\treturn [...result, [encode(key, options), '[]=', encode(value, options)].join('')];\n\t\t\t};\n\n\t\tcase 'comma':\n\t\tcase 'separator':\n\t\t\treturn key => (result, value) => {\n\t\t\t\tif (value === null || value === undefined || value.length === 0) {\n\t\t\t\t\treturn result;\n\t\t\t\t}\n\n\t\t\t\tif (result.length === 0) {\n\t\t\t\t\treturn [[encode(key, options), '=', encode(value, options)].join('')];\n\t\t\t\t}\n\n\t\t\t\treturn [[result, encode(value, options)].join(options.arrayFormatSeparator)];\n\t\t\t};\n\n\t\tdefault:\n\t\t\treturn key => (result, value) => {\n\t\t\t\tif (value === undefined || (options.skipNull && value === null)) {\n\t\t\t\t\treturn result;\n\t\t\t\t}\n\n\t\t\t\tif (value === null) {\n\t\t\t\t\treturn [...result, encode(key, options)];\n\t\t\t\t}\n\n\t\t\t\treturn [...result, [encode(key, options), '=', encode(value, options)].join('')];\n\t\t\t};\n\t}\n}\n\nfunction parserForArrayFormat(options) {\n\tlet result;\n\n\tswitch (options.arrayFormat) {\n\t\tcase 'index':\n\t\t\treturn (key, value, accumulator) => {\n\t\t\t\tresult = /\\[(\\d*)\\]$/.exec(key);\n\n\t\t\t\tkey = key.replace(/\\[\\d*\\]$/, '');\n\n\t\t\t\tif (!result) {\n\t\t\t\t\taccumulator[key] = value;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif (accumulator[key] === undefined) {\n\t\t\t\t\taccumulator[key] = {};\n\t\t\t\t}\n\n\t\t\t\taccumulator[key][result[1]] = value;\n\t\t\t};\n\n\t\tcase 'bracket':\n\t\t\treturn (key, value, accumulator) => {\n\t\t\t\tresult = /(\\[\\])$/.exec(key);\n\t\t\t\tkey = key.replace(/\\[\\]$/, '');\n\n\t\t\t\tif (!result) {\n\t\t\t\t\taccumulator[key] = value;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif (accumulator[key] === undefined) {\n\t\t\t\t\taccumulator[key] = [value];\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\taccumulator[key] = [].concat(accumulator[key], value);\n\t\t\t};\n\n\t\tcase 'comma':\n\t\tcase 'separator':\n\t\t\treturn (key, value, accumulator) => {\n\t\t\t\tconst isArray = typeof value === 'string' && value.split('').indexOf(options.arrayFormatSeparator) > -1;\n\t\t\t\tconst newValue = isArray ? value.split(options.arrayFormatSeparator).map(item => decode(item, options)) : value === null ? value : decode(value, options);\n\t\t\t\taccumulator[key] = newValue;\n\t\t\t};\n\n\t\tdefault:\n\t\t\treturn (key, value, accumulator) => {\n\t\t\t\tif (accumulator[key] === undefined) {\n\t\t\t\t\taccumulator[key] = value;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\taccumulator[key] = [].concat(accumulator[key], value);\n\t\t\t};\n\t}\n}\n\nfunction validateArrayFormatSeparator(value) {\n\tif (typeof value !== 'string' || value.length !== 1) {\n\t\tthrow new TypeError('arrayFormatSeparator must be single character string');\n\t}\n}\n\nfunction encode(value, options) {\n\tif (options.encode) {\n\t\treturn options.strict ? strictUriEncode(value) : encodeURIComponent(value);\n\t}\n\n\treturn value;\n}\n\nfunction decode(value, options) {\n\tif (options.decode) {\n\t\treturn decodeComponent(value);\n\t}\n\n\treturn value;\n}\n\nfunction keysSorter(input) {\n\tif (Array.isArray(input)) {\n\t\treturn input.sort();\n\t}\n\n\tif (typeof input === 'object') {\n\t\treturn keysSorter(Object.keys(input))\n\t\t\t.sort((a, b) => Number(a) - Number(b))\n\t\t\t.map(key => input[key]);\n\t}\n\n\treturn input;\n}\n\nfunction removeHash(input) {\n\tconst hashStart = input.indexOf('#');\n\tif (hashStart !== -1) {\n\t\tinput = input.slice(0, hashStart);\n\t}\n\n\treturn input;\n}\n\nfunction getHash(url) {\n\tlet hash = '';\n\tconst hashStart = url.indexOf('#');\n\tif (hashStart !== -1) {\n\t\thash = url.slice(hashStart);\n\t}\n\n\treturn hash;\n}\n\nfunction extract(input) {\n\tinput = removeHash(input);\n\tconst queryStart = input.indexOf('?');\n\tif (queryStart === -1) {\n\t\treturn '';\n\t}\n\n\treturn input.slice(queryStart + 1);\n}\n\nfunction parseValue(value, options) {\n\tif (options.parseNumbers && !Number.isNaN(Number(value)) && (typeof value === 'string' && value.trim() !== '')) {\n\t\tvalue = Number(value);\n\t} else if (options.parseBooleans && value !== null && (value.toLowerCase() === 'true' || value.toLowerCase() === 'false')) {\n\t\tvalue = value.toLowerCase() === 'true';\n\t}\n\n\treturn value;\n}\n\nfunction parse(input, options) {\n\toptions = Object.assign({\n\t\tdecode: true,\n\t\tsort: true,\n\t\tarrayFormat: 'none',\n\t\tarrayFormatSeparator: ',',\n\t\tparseNumbers: false,\n\t\tparseBooleans: false\n\t}, options);\n\n\tvalidateArrayFormatSeparator(options.arrayFormatSeparator);\n\n\tconst formatter = parserForArrayFormat(options);\n\n\t// Create an object with no prototype\n\tconst ret = Object.create(null);\n\n\tif (typeof input !== 'string') {\n\t\treturn ret;\n\t}\n\n\tinput = input.trim().replace(/^[?#&]/, '');\n\n\tif (!input) {\n\t\treturn ret;\n\t}\n\n\tfor (const param of input.split('&')) {\n\t\tlet [key, value] = splitOnFirst(options.decode ? param.replace(/\\+/g, ' ') : param, '=');\n\n\t\t// Missing `=` should be `null`:\n\t\t// http://w3.org/TR/2012/WD-url-20120524/#collect-url-parameters\n\t\tvalue = value === undefined ? null : options.arrayFormat === 'comma' ? value : decode(value, options);\n\t\tformatter(decode(key, options), value, ret);\n\t}\n\n\tfor (const key of Object.keys(ret)) {\n\t\tconst value = ret[key];\n\t\tif (typeof value === 'object' && value !== null) {\n\t\t\tfor (const k of Object.keys(value)) {\n\t\t\t\tvalue[k] = parseValue(value[k], options);\n\t\t\t}\n\t\t} else {\n\t\t\tret[key] = parseValue(value, options);\n\t\t}\n\t}\n\n\tif (options.sort === false) {\n\t\treturn ret;\n\t}\n\n\treturn (options.sort === true ? Object.keys(ret).sort() : Object.keys(ret).sort(options.sort)).reduce((result, key) => {\n\t\tconst value = ret[key];\n\t\tif (Boolean(value) && typeof value === 'object' && !Array.isArray(value)) {\n\t\t\t// Sort object keys, not values\n\t\t\tresult[key] = keysSorter(value);\n\t\t} else {\n\t\t\tresult[key] = value;\n\t\t}\n\n\t\treturn result;\n\t}, Object.create(null));\n}\n\nexports.extract = extract;\nexports.parse = parse;\n\nexports.stringify = (object, options) => {\n\tif (!object) {\n\t\treturn '';\n\t}\n\n\toptions = Object.assign({\n\t\tencode: true,\n\t\tstrict: true,\n\t\tarrayFormat: 'none',\n\t\tarrayFormatSeparator: ','\n\t}, options);\n\n\tvalidateArrayFormatSeparator(options.arrayFormatSeparator);\n\n\tconst formatter = encoderForArrayFormat(options);\n\n\tconst objectCopy = Object.assign({}, object);\n\tif (options.skipNull) {\n\t\tfor (const key of Object.keys(objectCopy)) {\n\t\t\tif (objectCopy[key] === undefined || objectCopy[key] === null) {\n\t\t\t\tdelete objectCopy[key];\n\t\t\t}\n\t\t}\n\t}\n\n\tconst keys = Object.keys(objectCopy);\n\n\tif (options.sort !== false) {\n\t\tkeys.sort(options.sort);\n\t}\n\n\treturn keys.map(key => {\n\t\tconst value = object[key];\n\n\t\tif (value === undefined) {\n\t\t\treturn '';\n\t\t}\n\n\t\tif (value === null) {\n\t\t\treturn encode(key, options);\n\t\t}\n\n\t\tif (Array.isArray(value)) {\n\t\t\treturn value\n\t\t\t\t.reduce(formatter(key), [])\n\t\t\t\t.join('&');\n\t\t}\n\n\t\treturn encode(key, options) + '=' + encode(value, options);\n\t}).filter(x => x.length > 0).join('&');\n};\n\nexports.parseUrl = (input, options) => {\n\treturn {\n\t\turl: removeHash(input).split('?')[0] || '',\n\t\tquery: parse(extract(input), options)\n\t};\n};\n\nexports.stringifyUrl = (input, options) => {\n\tconst url = removeHash(input.url).split('?')[0] || '';\n\tconst queryFromUrl = exports.extract(input.url);\n\tconst parsedQueryFromUrl = exports.parse(queryFromUrl);\n\tconst hash = getHash(input.url);\n\tconst query = Object.assign(parsedQueryFromUrl, input.query);\n\tlet queryString = exports.stringify(query, options);\n\tif (queryString) {\n\t\tqueryString = `?${queryString}`;\n\t}\n\n\treturn `${url}${queryString}${hash}`;\n};\n","import qs from 'query-string'\r\n\r\nexport default function combineUrlParams(url, params) {\r\n  const queryIndex = url.indexOf('?')\r\n  if (queryIndex > -1) {\r\n    const urlSlug = url.slice(0, queryIndex)\r\n    const urlParams = qs.parse(url.slice(queryIndex))\r\n    const newQueryParams = qs.stringify({\r\n      ...urlParams,\r\n      ...params\r\n    }, {\r\n      encode: false,\r\n      arrayFormat: 'brackets',\r\n    })\r\n    console.log({ urlSlug, urlParams, newQueryParams })\r\n    return urlSlug + ((newQueryParams.length) ? '?' + newQueryParams : '')\r\n  }\r\n  if (typeof params !== 'undefined' && Object.getOwnPropertyNames(params).length) {\r\n    return url + '?' + qs.stringify(params, { encode: false, arrayFormat: 'brackets'})\r\n  }\r\n  return url\r\n}\r\n","export default function debounce(timeout, callback) {\r\n  let timer = null\r\n  return function(e) {\r\n    const args = arguments\r\n    clearTimeout(timer)\r\n    timer = setTimeout(() => {\r\n      callback.apply(this, args)\r\n    }, timeout)\r\n  }\r\n}\r\n","export default function logAction(action, instance) {\r\n  const magna = instance.magna\r\n  if (magna.debug) {\r\n    if (magna.env === 'development') {\r\n      console.group(`%c%s %c%s`, 'color:#aaa', 'action', 'color:teal', action)\r\n    } else if (magna.env === 'staging') {\r\n      console.groupCollapsed(`%c%s %c%s`, 'color:#aaa', 'action', 'color:teal', action)\r\n    }\r\n  }\r\n}\r\n","export default function logRoute(method, instance) {\r\n  const magna = instance.magna\r\n  if (magna.debug) {\r\n    if (magna.env === 'development') {\r\n      console.group(`%c%s %c%s %c%s %c%s`,\r\n        'color:#aaa', 'route',\r\n        'color:purple', method,\r\n        'color:#111', location.pathname,\r\n        'color:#007bff;font-weight:normal', magna.request.type\r\n      )\r\n    } else if (magna.env === 'staging') {\r\n      console.groupCollapsed(`%c%s %c%s %c%s %c%s`,\r\n        'color:#aaa', 'route',\r\n        'color:purple', method,\r\n        'color:#111', location.pathname,\r\n        'color:#007bff;font-weight:normal', magna.request.type\r\n      )\r\n    }\r\n  }\r\n}\r\n","const prettify = str =>\r\n  str\r\n    .replace('%20', ' ')\r\n    .replace(/([^a-z0-9]+)/gim, ' ')\r\n\r\nexport default prettify\r\n\r\n","export default function radioClass(classes, el) {\r\n  return function _radioClass(clazz) {\r\n    el = document.querySelector(el)\r\n    classes.forEach(x => el.classList.remove(x))\r\n    el.classList.add(clazz)\r\n  }\r\n}\r\n","export default function regexify(str) {\r\n  const index = []\r\n  const params = {}\r\n  const string = str instanceof RegExp ? false : str\r\n    .replace(/\\//g, '\\\\/')\r\n    .replace(/\\.?\\*/, '.*')\r\n    .replace(/\\{([^:]+)\\:?([^}]*)(\\?)?\\}/g, (_, param, type, skippable) => {\r\n      index.push(param)\r\n      params[param] = {\r\n        type\r\n      }\r\n      switch (type) {\r\n        case 'char':\r\n        case 'alpha':\r\n        case 'string':\r\n          return (params[param].regex = `([a-zA-Z-_%&]${skippable ? '*' : '+'})`)\r\n        case 'int':\r\n        case 'num':\r\n        case 'number':\r\n          return (params[param].regex = `([0-9]${skippable ? '*' : '+'})`)\r\n        default:\r\n          if (type) {\r\n            params[param].type = 'regex'\r\n            return (params[param].regex = type)\r\n          }\r\n          params[param].type = 'mixed'\r\n          return (params[param].regex = `([a-zA-Z0-9-_%&]${skippable ? '*' : '+'})`)\r\n      }\r\n    })\r\n\r\n  return {\r\n    params,\r\n    string,\r\n    index,\r\n    regex: str instanceof RegExp ? str : new RegExp(string)\r\n  }\r\n}\r\n","/**\r\n * tap\r\n * call a function with the provided argument but return the original argument\r\n * from the decorated function\r\n * @curried f -> x -> x\r\n * @param fn\r\n * @return {Function}\r\n */\r\nexport default function tap(fn) {\r\n  return function(x) {\r\n    fn.call(this, x)\r\n    return x\r\n  }\r\n}\r\n","export default function trace(log) {\r\n  return function(val) {\r\n    return (console.log(log, val), val)\r\n  }\r\n}\r\n","const uglify = str =>\r\n  str\r\n    .toLowerCase()\r\n    .replace(/([^a-z0-9]+)/gim, '-')\r\n\r\nexport default uglify\r\n","import { combineUrlParams} from '../utils';\r\nimport qs from 'query-string'\r\n\r\nlet prev = null\r\nexport default class Request {\r\n\r\n  type = 'http'\r\n  keywords = []\r\n  params = {}\r\n  values = []\r\n  scrollTop = 0\r\n\r\n  /**\r\n   * @param {String} [type] ('http'|'popstate')\r\n   */\r\n  constructor({\r\n    type = 'http',\r\n    uuid = 0,\r\n    url = location.pathname,\r\n    params,\r\n    scrollTop = 0,\r\n  } = {}) {\r\n    this.prev = prev\r\n    this.type = type\r\n    this.uuid = uuid\r\n    this.pathname = url\r\n    this.scrollTop = scrollTop\r\n    this.params = qs.parse(location.search.slice(location.search.indexOf('?') + 1))\r\n    this.href = combineUrlParams(url, params)\r\n    prev = this.pathname\r\n  }\r\n}\r\n","export function curry(fn, args = []){\n  return (..._args) =>\n    (rest => rest.length >= fn.length ? fn(...rest) : curry(fn, rest))([\n      ...args,\n      ..._args,\n    ])\n}\n","import { curry } from './curry'\n\nfunction assocFn(\n  prop, val, obj\n){\n  return Object.assign(\n    {}, obj, { [ prop ] : val }\n  )\n}\n\nexport const assoc = curry(assocFn)\n","export function _isInteger(n){\n  return n << 0 === n\n}\n\nexport default Number.isInteger || _isInteger\n","import { assoc } from './assoc'\nimport { curry } from './curry'\nimport { _isInteger } from './internal/_isInteger'\n\n/**\n * Makes a shallow clone of an inputect, setting or overriding the nodes required\n * to create the given path\n *\n * @func\n * @category inputect\n * @sig String -> a -> {k: v} -> {k: v}\n * @param {Array<String>|String} list The path to use.\n * @param {*} val The new value\n * @param {inputect} input The inputect to clone\n * @return {inputect} A new inputect equivalent to the original except for the changed property.\n * @example\n *\n *      R.assocPath('a.b.c', 3, {a: {b: {c: 1}} ); //=> {a: {b: {c: 3}}}\n *      R.assocPath('a.b.c', 3, {a: 5});           //=> {a: {b: {c: 3}}}\n */\nfunction assocPathFn(\n  list, val, input\n){\n  const pathArrValue = typeof list === 'string' ? list.split('.') : list\n  if (pathArrValue.length === 0){\n    return val\n  }\n\n  const index = pathArrValue[ 0 ]\n  if (pathArrValue.length > 1){\n    const condition = typeof input !== 'object' ||\n      input === null ||\n      !input.hasOwnProperty(index)\n\n    const nextinput = condition ?\n      _isInteger(parseInt(pathArrValue[ 1 ], 10)) ? [] : {} :\n      input[ index ]\n    val = assocPathFn(\n      Array.prototype.slice.call(pathArrValue, 1), val, nextinput\n    )\n  }\n\n  if (_isInteger(parseInt(index, 10)) && Array.isArray(input)){\n    const arr = input.slice()\n    arr[ index ] = val\n\n    return arr\n  }\n\n  return assoc(\n    index, val, input\n  )\n}\n\nexport const assocPath = curry(assocPathFn)\n","import { map } from './map'\n\nexport function lens(getter, setter){\n\n  if (arguments.length === 1)\n    return _setter => lens(getter, _setter)\n\n  return function(functor){\n    return function(target){\n      return functor(getter(target))\n        .map(focus => setter(focus, target))\n    }\n  }\n}\n","export function path(list, obj){\n  if (arguments.length === 1) return _obj => path(list, _obj)\n\n  if (obj === null || obj === undefined){\n    return undefined\n  }\n  let willReturn = obj\n  let counter = 0\n\n  const pathArrValue = typeof list === 'string' ? list.split('.') : list\n\n  while (counter < pathArrValue.length){\n    if (willReturn === null || willReturn === undefined){\n      return undefined\n    }\n    willReturn = willReturn[ pathArrValue[ counter ] ]\n    counter++\n  }\n\n  return willReturn\n}\n","import { assocPath } from './assocPath'\nimport { lens } from './lens'\nimport { path } from './path'\n\nexport function lensPath(key){\n  return lens(path(key), assocPath(key))\n}\n","const Identity = x => ({\n  x,\n  map : fn => Identity(fn(x)),\n})\n\nexport function over(\n  lens, fn, object\n){\n  if (arguments.length === 1)\n    return (_fn, _object) => over(\n      lens, _fn, _object\n    )\n  if (arguments.length === 2)\n    return _object => over(\n      lens, fn, _object\n    )\n\n  return lens(x => Identity(fn(x)))(object).x\n}\n","const Const = x => ({\n  x,\n  map : fn => Const(x),\n})\n\nexport function view(lens, target){\n  if (arguments.length === 1)\n    return _target => view(lens, _target)\n\n  return lens(Const)(target).x\n}\n","export function type(input){\n  const typeOf = typeof input\n\n  if (input === null){\n    return 'Null'\n  } else if (input === undefined){\n    return 'Undefined'\n  } else if (typeOf === 'boolean'){\n    return 'Boolean'\n  } else if (typeOf === 'number'){\n    return Number.isNaN(input) ? 'NaN' : 'Number'\n  } else if (typeOf === 'string'){\n    return 'String'\n  } else if (Array.isArray(input)){\n    return 'Array'\n  } else if (input instanceof RegExp){\n    return 'RegExp'\n  }\n\n  const asStr = input && input.toString ? input.toString() : ''\n\n  if ([ 'true', 'false' ].includes(asStr)) return 'Boolean'\n  if (!Number.isNaN(Number(asStr))) return 'Number'\n  if (asStr.startsWith('async')) return 'Async'\n  if (asStr === '[object Promise]') return 'Promise'\n  if (typeOf === 'function') return 'Function'\n  if (input instanceof String) return 'String'\n\n  return 'Object'\n}\n","import { type } from './type'\n\nfunction parseError(maybeError){\n  const typeofError = maybeError.__proto__.toString()\n  if (![ 'Error', 'TypeError' ].includes(typeofError)) return []\n\n  return [ typeofError, maybeError.message ]\n}\n\nfunction parseDate(maybeDate){\n  if (!maybeDate.toDateString) return [ false ]\n\n  return [ true, maybeDate.getTime() ]\n}\n\nfunction parseRegex(maybeRegex){\n  if (maybeRegex.constructor !== RegExp) return [ false ]\n\n  return [ true, maybeRegex.toString() ]\n}\n\nexport function equals(a, b){\n  if (arguments.length === 1) return _b => equals(a, _b)\n\n  const aType = type(a)\n\n  if (aType !== type(b)) return false\n  if ([ 'NaN', 'Undefined', 'Null' ].includes(aType)) return true\n  if ([ 'Boolean', 'Number', 'String' ].includes(aType)) return a.toString() === b.toString()\n\n  if (aType === 'Array'){\n    const aClone = Array.from(a)\n    const bClone = Array.from(b)\n\n    if (aClone.toString() !== bClone.toString()){\n      return false\n    }\n\n    let loopArrayFlag = true\n    aClone.forEach((aCloneInstance, aCloneIndex) => {\n      if (loopArrayFlag){\n        if (\n          aCloneInstance !== bClone[ aCloneIndex ] &&\n          !equals(aCloneInstance, bClone[ aCloneIndex ])\n        ){\n          loopArrayFlag = false\n        }\n      }\n    })\n\n    return loopArrayFlag\n  }\n\n  const aRegex = parseRegex(a)\n  const bRegex = parseRegex(b)\n\n  if (aRegex[ 0 ]){\n    return bRegex[ 0 ] ? aRegex[ 1 ] === bRegex[ 1 ] : false\n  } else if (bRegex[ 0 ]) return false\n\n  const aDate = parseDate(a)\n  const bDate = parseDate(b)\n\n  if (aDate[ 0 ]){\n    return bDate[ 0 ] ? aDate[ 1 ] === bDate[ 1 ] : false\n  } else if (bDate[ 0 ]) return false\n\n  const aError = parseError(a)\n  const bError = parseError(b)\n\n  if (\n    aError[ 0 ]\n  ){\n    return bError[ 0 ] ?\n      aError[ 0 ] === bError[ 0 ] && aError[ 1 ] === bError[ 1 ] :\n      false\n  }\n\n  if (aType === 'Object'){\n    const aKeys = Object.keys(a)\n\n    if (aKeys.length !== Object.keys(b).length){\n      return false\n    }\n\n    let loopObjectFlag = true\n    aKeys.forEach(aKeyInstance => {\n      if (loopObjectFlag){\n        const aValue = a[ aKeyInstance ]\n        const bValue = b[ aKeyInstance ]\n\n        if (aValue !== bValue && !equals(aValue, bValue)){\n          loopObjectFlag = false\n        }\n      }\n    })\n\n    return loopObjectFlag\n  }\n\n  return false\n}\n","import Node from './Node'\r\nimport {INIT_PROMISE, INITIALIZED} from '../symbols'\r\nimport Request from '../request/Request'\r\nimport qs from 'query-string'\r\nimport {\r\n  logRoute,\r\n  logAction,\r\n  tap,\r\n  combineUrlParams\r\n} from '../utils';\r\n\r\nimport { lensPath } from 'rambda/src/lensPath'\r\nimport { over } from 'rambda/src/over'\r\nimport { view } from 'rambda/src/view'\r\nimport { equals } from 'rambda/src/equals'\r\n\r\n// TODO: move scoped variables to private properties to allow better testing\r\nconst states = []\r\nlet STATE_UUID = 0\r\n\r\nexport default class Magna extends Node {\r\n\r\n  debug = true\r\n  env = 'development'\r\n  setScrollOnPopstate = true;\r\n\r\n  [Symbol.toStringTag] = 'Magna';\r\n\r\n  constructor(nodes) {\r\n    super({}, nodes)\r\n\r\n    this.__state = {}\r\n    this.__subscribers = new Map()\r\n    this[INITIALIZED] = false\r\n    this.request = new Request({\r\n      type: 'http',\r\n      uuid: STATE_UUID,\r\n      url: location.pathname\r\n    })\r\n    states.push(this.request)\r\n\r\n    // add the initial request to the current state\r\n    history.replaceState({\r\n      ...history.state,\r\n      ...this.request,\r\n      scrollTop: document.body.scrollTop,\r\n      index: states.length,\r\n      prev: location.pathname,\r\n    }, document.title)\r\n\r\n\r\n    const _this = this\r\n\r\n    this.__setActiveUrl()\r\n\r\n    window.addEventListener('popstate', e => {\r\n      if(e.state === null) {\r\n         e.preventDefault();\r\n         return false;\r\n      }\r\n\r\n      const request = this.request = {\r\n        ...e.state,\r\n        prev: states[states.length - 1].pathname\r\n      }\r\n\r\n      this.__setActiveUrl()\r\n      // set the previous requests scrollTop position before setting the new Request\r\n      logRoute('popstate', this)\r\n\r\n      return this.runDestroy({ request })\r\n        .then(destroyResults => {\r\n          // const newRequest = new Request('popstate')\r\n          console.groupEnd()\r\n          logRoute('popstate', this)\r\n          return this.runPopstate({ request })\r\n            .then(xs => (console.groupEnd(), xs))\r\n            .then(xs => (logRoute('init', this), xs))\r\n            .then(xs => this.runInit({ request }))\r\n            .then(xs => (console.groupEnd(), xs))\r\n            .then(xs => {\r\n              // push a Pageview to tagmanager\r\n              window.dataLayer && window.dataLayer.push({\r\n                event: 'Pageview',\r\n                url: location.href,\r\n              })\r\n              return xs\r\n            })\r\n        })\r\n    })\r\n  }\r\n\r\n  initChildren() {\r\n    this.nodes.forEach(node => {\r\n      node.parent = this\r\n    })\r\n  }\r\n  getHistory() {\r\n    return states\r\n  }\r\n\r\n  start({\r\n    debug = false,\r\n    env = 'development',\r\n    setScrollOnPopstate = true,\r\n  }) {\r\n    logRoute('start', this)\r\n    this.debug = debug\r\n    this.env = env\r\n    this.setScrollOnPopstate = setScrollOnPopstate\r\n    this[INITIALIZED] = true\r\n    this.initChildren()\r\n    this.runInit({ request: this.request })\r\n      .then(x => (console.groupEnd(), x))\r\n  }\r\n\r\n  popstate({ request, response }) {\r\n    // push a Pageview to tagmanager\r\n    if (this.debug) console.log('popstate', response)\r\n      window.dataLayer && window.dataLayer.push({\r\n        event: 'Pageview',\r\n        url: location.href,\r\n      })\r\n    // document.body.scrollTop = this.setScrollOnPopstate && this.request.request.scrollTop || 0\r\n    if (this.debug) console.groupEnd()\r\n    return Promise.resolve()\r\n  }\r\n\r\n  pushState(obj, title, url, params) {\r\n    STATE_UUID++\r\n    // update the scrollTop of the current history entry\r\n    history.replaceState({\r\n      ...history.state,\r\n      scrollTop: document.body.scrollTop,\r\n      index: states.length\r\n    }, document.title)\r\n\r\n    this.request = new Request({\r\n      type: 'popstate',\r\n      uuid: STATE_UUID,\r\n      href: location.pathname,\r\n      url,\r\n      params,\r\n      title,\r\n      ...obj,\r\n    })\r\n    const queryStringParams = qs.stringify(params, {\r\n      encode: false,\r\n      arrayFormat: 'brackets',\r\n    })\r\n    history.pushState(this.request, this.request.title, url + (queryStringParams ? '?' + queryStringParams : ''))\r\n    this.__setActiveUrl()\r\n    states.push(this.request)\r\n    // set the previous requests scrollTop position before setting the new Request\r\n    logRoute('pushState', this)\r\n    return this.runDestroy({ request: this.request })\r\n      .then(destroyResults => {\r\n        // const newRequest = new Request('popstate')\r\n        console.groupEnd()\r\n        logRoute('popstate', this)\r\n        return this.runPopstate({ request: this.request })\r\n          .then(xs => (console.groupEnd(), xs))\r\n          .then(xs => (logRoute('init', this), xs))\r\n          .then(xs => this.runInit({ request: this.request }))\r\n          .then(xs => (console.groupEnd(), xs))\r\n          .then(xs => {\r\n            // push a Pageview to tagmanager\r\n            window.dataLayer && window.dataLayer.push({\r\n              event: 'Pageview',\r\n              url: location.href,\r\n            })\r\n            return xs\r\n          })\r\n      })\r\n  }\r\n\r\n  use(nodes) {\r\n    this.nodes = [...this.nodes, ...nodes]\r\n    this.initChildren()\r\n    return this\r\n  }\r\n\r\n  rerun() {\r\n    this.destroy(this.request)\r\n      .then((responses) => {\r\n        this.request = new Request({ type: 'manual', ...this.request })\r\n        this.init(this.request)\r\n      })\r\n    return this\r\n  }\r\n\r\n  __setActiveUrl() {\r\n    const escapedPathname = location.pathname\r\n      .replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&')\r\n    document.querySelectorAll('.link--active').forEach(element =>\r\n      element.classList.remove('link--active')\r\n    )\r\n    ;([...document.querySelectorAll('a[href]')])\r\n      .filter(element => {\r\n        const href = element.href.replace(location.origin, '')\r\n        return new RegExp(\"^\" + escapedPathname + \"$\").test(href)\r\n      })\r\n      .forEach(element => element.classList.add('link--active'))\r\n  }\r\n\r\n  getState(path) {\r\n    return { ...this.__state }\r\n  }\r\n\r\n  setState(path, stateUpdater) {\r\n    if (typeof path === 'string') path = path.split('.')\r\n    path = path || ['global']\r\n    const oldState = this.__state\r\n    const lens = lensPath(path)\r\n    // set the new state\r\n    const newState = over(lens, stateUpdater, this.__state)\r\n    // const newState = stateUpdater(this.__state)\r\n    if (newState === this.__state) {\r\n      throw new Error('Do not mutate the state, please return a new object for the state')\r\n    }\r\n    this.__state = newState\r\n\r\n    // trigger any subscribers\r\n    for (const [subscribePath, subscribers] of this.__subscribers) {\r\n      const subscribeLens = lensPath(subscribePath.split('.'))\r\n      const a = view(subscribeLens, oldState)\r\n      const b = view(subscribeLens, newState)\r\n      // check to see if the previous state has changed at this path\r\n      if (!equals(a, b)) {\r\n        // state has changed, fire the events\r\n        subscribers.forEach(({ instance, cb }) => {\r\n          if (instance[INITIALIZED]) {\r\n            over(subscribeLens, cb, newState)\r\n          }\r\n        })\r\n      }\r\n    }\r\n    return this\r\n  }\r\n\r\n  subscribe(instance, path, cb) {\r\n    path = !path ? 'global' : Array.isArray(path) ? path.join('.') : path\r\n    let listeners = []\r\n    if (this.__subscribers.has(path)) {\r\n      listeners = this.__subscribers.get(path)\r\n    }\r\n    const containsListener = listeners.some(listener => listener.cb === cb && listener.instance === instance)\r\n    // only set a callback once\r\n    if (!containsListener) {\r\n      listeners.push({ instance, cb, state: {} })\r\n    }\r\n    this.__subscribers.set(path, listeners)\r\n  }\r\n\r\n  unsubscribe(instance, path, cb) {\r\n    path = Array.isArray(path) ? path.join('.') : String(path)\r\n    const subscribers = this.__subscribers.get(path)\r\n    const newEvents = subscribers.filter(subscriber =>\r\n      subscriber.instance !== instance && subscriber.cb !== cb\r\n    )\r\n    this.__subscribers.set(path, newEvents)\r\n    return true\r\n  }\r\n\r\n  trigger(path) {\r\n    if (this.__subscribers.has(path)) {\r\n      this.__subscribers.get(path).forEach(({ cb, instance }) => {\r\n        if (instance[INITIALIZED]) {\r\n          cb(this.getState())\r\n          // send a signal through the browser event system so it can be subscribed to from anywhere\r\n          window.dispatchEvent(new CustomEvent(path, {\r\n            detail: {\r\n              state: this.getState(),\r\n              instance\r\n            },\r\n          }))\r\n        }\r\n      })\r\n    }\r\n  }\r\n\r\n}\r\n","import { INITIALIZED } from '../symbols'\r\nimport log from '../utils/log'\r\nimport Node from './Node'\r\n\r\nexport default class Import extends Node {\r\n\r\n  [Symbol.toStringTag] = 'Import';\r\n\r\n  constructor(importer, nodes = []) {\r\n    super({}, nodes)\r\n    this.__promise = null\r\n    this.importer = importer\r\n  }\r\n  initChildren() {\r\n    this.nodes.forEach(node => node.parent = this)\r\n  }\r\n  initPromise({ request }) {\r\n    return (this.__promise = this.__promise || this.importer({ request }))\r\n  }\r\n  popstatePromise({ request }) {\r\n    return (this.__promise = this.__promise || this.importer({ request }))\r\n  }\r\n  runInit({ request }) {\r\n    return super.runInit({ request })\r\n      .then(result =>\r\n        this[INITIALIZED] && this.__promise && this.__promise.then(node => {\r\n          node.default.parent = this\r\n          return node.default.runInit({ request })\r\n        })\r\n      )\r\n  }\r\n  runPopstate({ request }) {\r\n    return super.runPopstate({ request })\r\n      .then(result =>\r\n        this[INITIALIZED] && this.__promise && this.__promise.then(node =>\r\n          node.default.runPopstate({ request })\r\n        )\r\n      )\r\n  }\r\n  runDestroy({ request }) {\r\n    return super.runDestroy({ request })\r\n      .then(result =>\r\n        this.__promise && this.__promise.then(node =>\r\n          node.default.runDestroy({ request })\r\n        )\r\n      )\r\n  }\r\n  init({ request }) {\r\n    return this.url\r\n  }\r\n}\r\n","import { INITIALIZED } from '../symbols'\r\nimport log from '../utils/log'\r\nimport Node from './Node'\r\n\r\nexport default class Lazy extends Node {\r\n\r\n  [Symbol.toStringTag] = 'Lazy';\r\n\r\n  constructor(importer, config, nodes = []) {\r\n    super(config, nodes)\r\n    this.__promise = null\r\n    this.importer = importer\r\n    this.instance = null\r\n  }\r\n  initChildren() {\r\n    // this.instance.parent = this\r\n  }\r\n  initPromise({ request }) {\r\n    return (this.__promise = this.__promise || this.importer({ request }))\r\n  }\r\n  popstatePromise({ request }) {\r\n    return (this.__promise = this.__promise || this.importer({ request }))\r\n  }\r\n  runInit({ request }) {\r\n    return super.runInit({ request })\r\n      .then(result =>\r\n        this[INITIALIZED] && this.__promise && this.__promise.then(node => {\r\n          this.instance = new node.default(this.config)\r\n          this.instance.runInit({request})\r\n          return this.instance\r\n        })\r\n      )\r\n  }\r\n  runPopstate({ request }) {\r\n    return super.runPopstate({ request })\r\n      .then(result =>\r\n        this[INITIALIZED] && this.__promise && this.__promise.then(node =>\r\n          this.instance.runPopstate({ request })\r\n        )\r\n      )\r\n  }\r\n  runDestroy({ request }) {\r\n    return super.runDestroy({ request })\r\n      .then(result =>\r\n        this.__promise && this.__promise.then(node =>\r\n          this.instance.runDestroy({ request })\r\n        )\r\n      )\r\n  }\r\n  init({ request }) {\r\n    return this.url\r\n  }\r\n}\r\n","import Node from './Node'\r\n\r\nexport default class Module extends Node {\r\n\r\n  [Symbol.toStringTag] = 'Module'\r\n\r\n  constructor(nodes) {\r\n    super({}, nodes)\r\n  }\r\n  init({ request }) {\r\n    return request.url\r\n  }\r\n}\r\n","import Node from './Node'\r\n\r\nimport { tap, log } from '../utils'\r\n\r\nexport default class Plugin extends Node {\r\n\r\n  [Symbol.toStringTag] = 'Plugin'\r\n\r\n  constructor(options) {\r\n    super(options)\r\n  }\r\n  init({ request }) {\r\n    return request.url\r\n  }\r\n}\r\n","import { INITIALIZED } from '../symbols'\r\n\r\nimport Node from './Node'\r\n\r\nexport default class Predicate extends Node {\r\n\r\n  [Symbol.toStringTag] = 'Predicate';\r\n\r\n  shouldInitialize({ request }) {\r\n    return !this.parent || (this.parent[INITIALIZED] && this.predicate({ request }))\r\n  }\r\n  predicate({ request }) {\r\n    throw new Error(`Predicate class must contain a predicate method that returns a boolean`)\r\n  }\r\n}\r\n","import qs from 'query-string'\r\n\r\nimport { pad, trace } from '../utils'\r\nimport regexify from '../utils/regexify'\r\nimport Predicate from './Predicate'\r\n\r\nexport default class Route extends Predicate {\r\n\r\n  [Symbol.toStringTag] = 'Route';\r\n\r\n  static plugin = {\r\n    color: '#A82DFF',\r\n    debug: true,\r\n  }\r\n\r\n  constructor(url, nodes = []) {\r\n    super({ url }, nodes)\r\n  }\r\n  predicate({ request }) {\r\n    return this.parser.regex.test(location.pathname)\r\n  }\r\n\r\n  processHref({ href, regex, params, keywords, index }) {\r\n    const matches = href.match(regex)\r\n    return !matches ? {} : index.reduce((acc, x, i) => ({\r\n      ...acc,\r\n      [x]: matches[i + 1]\r\n    }), {})\r\n  }\r\n\r\n  createNewRequest({ request }) {\r\n    const parser = regexify(this.config.url)\r\n    const params = this.processHref({ href: location.pathname, ...parser })\r\n    const search = qs.parse(location.search.slice(1), {\r\n      plainObjects: true,\r\n    })\r\n    this.parser = parser\r\n    this.params = params\r\n    this.search = search\r\n    return {\r\n      ...request,\r\n      params: {\r\n        ...(request.params && request.params),\r\n        ...params\r\n      },\r\n      search\r\n    }\r\n  }\r\n\r\n  runInit({ request }) {\r\n    const newRequest = this.createNewRequest({ request })\r\n    return super.runInit({ request: newRequest })\r\n  }\r\n\r\n  runPopstate({ request }) {\r\n    const newRequest = this.createNewRequest({ request })\r\n    return super.runPopstate({ request: newRequest })\r\n  }\r\n\r\n info(method, ...args) {\r\n    let plugin = this.constructor.plugin\r\n    if (this.magna.debug && (typeof plugin === 'undefined' || plugin.debug === true)) {\r\n      plugin = plugin || { debug: true, color: '#777' }\r\n      console.groupCollapsed(`%c%s %c%s`, 'color:#aaa', pad(10, this[Symbol.toStringTag]), `color: ${plugin.color}`, `${this.constructor.name}::${method}`, this.config.url)\r\n      console.log(this, ...args)\r\n      console.groupEnd()\r\n    }\r\n  }\r\n\r\n}\r\n\r\n","import Node from './Node'\r\n\r\nimport { tap, log } from '../utils'\r\n\r\nexport default class Singleton extends Node {\r\n\r\n  [Symbol.toStringTag] = 'Singleton'\r\n  initialized = false\r\n\r\n  constructor(options) {\r\n    super(options)\r\n  }\r\n  shouldInitialize({ request }) {\r\n    if (this.initialized)\r\n      return false\r\n    return (this.initialized = true)\r\n  }\r\n  init({ request }) {\r\n    return request.url\r\n  }\r\n}","import Predicate from '../types/Predicate';\r\n\r\nexport class ElementExists extends Predicate {\r\n\r\n    [Symbol.toStringTag] = 'ElementExists';\r\n\r\n    constructor(selector, nodes) {\r\n        super({selector}, nodes)\r\n    }\r\n    predicate({ request }) {\r\n        return !!document.querySelector(this.config.selector)\r\n    }\r\n}\r\n\r\nexport default (selector, nodes) =>\r\n  new ElementExists(selector, nodes)\r\n","import Node from '../types/Node'\r\nimport { INITIALIZED } from '../symbols';\r\n/*\r\n* one\r\n*\r\n* Initialize the child nodes when the user fires an event from a page interaction\r\n*\r\n* ```\r\n* import { Plugin, one } from '@carednavmagna'\r\n* import { one } from '@magna/predicates/one'\r\n*\r\n* magna.use([\r\n*   one('click', '#my-element', [\r\n*     new Plugin()\r\n*   ])\r\n* ])\r\n* ```\r\n*/\r\nexport class One extends Node {\r\n\r\n  #target = null\r\n  #callback = null\r\n\r\n  constructor(event, target, nodes) {\r\n    super({ event, target }, nodes)\r\n  }\r\n\r\n  runInit({ request }) {\r\n    this[INITIALIZED] = true\r\n    // don't init the node, bind the event listener\r\n    this.#target = document.querySelector(this.config.target)\r\n    this.#target.addEventListener(this.config.event, (this.#callback = e => {\r\n      // remove the event after it has been fired\r\n      this.#target.removeEventListener(this.config.event, this.#callback)\r\n      // once the event listener has fired load the node\r\n      super.runInit({ request })\r\n    }))\r\n  }\r\n\r\n  runDestroy({ request }) {\r\n    // unbind the event\r\n    this.#target.removeEventListener(this.config.event, this.#callback)\r\n    // run destroy\r\n    return super.runDestroy({ request })\r\n  }\r\n\r\n}\r\n\r\nexport default (target, event, nodes) =>\r\n  new One(target, event, nodes)\r\n","import Node from '../types/Node'\r\n\r\nexport class OnlyOnRouteChange extends Node {\r\n\r\n  constructor(pattern, nodes) {\r\n    super(pattern, nodes)\r\n    this.nodes = nodes\r\n    this.pattern = pattern\r\n    this.regex = regexify(pattern)\r\n  }\r\n\r\n  initNodes({ request }) {\r\n    if (this.regex.test(request.prev) !== this.regex.test(request.pathname)) {\r\n      return super.initNodes({ request })\r\n    }\r\n    return Promise.resolve('OnlyOnRouteChange:same-url')\r\n  }\r\n\r\n  initDestroy({ request }) {\r\n    if (this.regex.test(request.prev) !== this.regex.test(request.pathname)) {\r\n      return super.initDestroy({ request })\r\n    }\r\n    return Promise.resolve('OnlyOnRouteChange:same-url')\r\n  }\r\n\r\n}\r\n\r\nexport default (url, nodes) =>\r\n  new OnlyOnRouteChange(url, nodes)\r\n","import Route from '../types/Route'\r\n\r\nexport { default as Route } from '../types/Route'\r\n\r\nexport default (url, nodes) =>\r\n  new Route(url, nodes)\r\n","import Node from '../types/Node'\r\nimport { INITIALIZED } from '../symbols'\r\n\r\n/*\r\n* subscribe\r\n*\r\n* Subscribe to state changes, when the state changes the plugin will be initialized\r\n* It will only ever initialize once per lifecycle, which is reset when popstate fires\r\n*\r\n* ```\r\n* import { Plugin, subscribe } from '@coredna/magna'\r\n*\r\n* magna.use([\r\n*   subscribe('my.custom.event', [\r\n*     new Plugin()\r\n*   ])\r\n* ])\r\n* ```\r\n*/\r\nexport class Subscribe extends Node {\r\n\r\n  constructor(event, nodes) {\r\n    super({ event }, nodes)\r\n  }\r\n\r\n  runInit({ request }) {\r\n    // INITIALIZED must be set for the event to fire when the state is changed\r\n    this[INITIALIZED] = true\r\n    // don't init the node, bind the event listener\r\n    this.subscribe(this.config.event, (this.__onEvent = e => {\r\n      // once the event listener has fired load the node\r\n      this.unsubscribe(this.config.event, this.__onEvent)\r\n      super.runInit({ request })\r\n    }))\r\n  }\r\n\r\n  runDestroy({ request }) {\r\n    // unbind the event\r\n    this.unsubscribe(this.config.event, this.__onEvent)\r\n    // run destroy\r\n    super.runDestroy({ request })\r\n  }\r\n}\r\n\r\nexport default (target, event, nodes) =>\r\n  new Subscribe(target, event, nodes)\r\n"],"names":["INITIALIZED","Symbol","INIT_PROMISE","INIT_DONE","POPSTATE_PROMISE","POPSTATE_DONE","message","color","console","groupCollapsed","args","log","groupEnd","isObject","possibleObject","Object","prototype","toString","call","mergeDeepRight","left","right","ret","key","hasOwnProperty","pad","count","string","char","repeat","length","getRootNode","node","parent","PARENTS","Map","ROOT","makeId","id","PropagateError","Error","BubbleError","toStringTag","Node","config","nodes","constructor","defaultConfig","Promise","resolve","initChildren","forEach","request","response","info","shouldInitialize","initPromise","popstatePromise","all","getParentInitPromise","getInitPromise","then","parentResponse","init","error","runCatch","map","runInit","getParentPopstatePromise","getPopstatePromise","parentPopstateResult","popstateResult","popstate","runPopstate","resolved","runDestroy","destroy","onPropagateError","stack","onBubbleError","onCatch","name","self","method","plugin","magna","debug","path","stateReducer","setState","getState","cb","subscribe","unsubscribe","get","set","has","decodeComponent","combineUrlParams","url","params","queryIndex","indexOf","urlSlug","slice","urlParams","qs","parse","newQueryParams","stringify","encode","arrayFormat","getOwnPropertyNames","debounce","timeout","callback","timer","e","arguments","clearTimeout","setTimeout","apply","logAction","action","instance","env","group","logRoute","location","pathname","type","prettify","str","replace","radioClass","classes","el","_radioClass","clazz","document","querySelector","x","classList","remove","add","regexify","index","RegExp","_","param","skippable","push","regex","tap","fn","trace","val","uglify","toLowerCase","prev","Request","uuid","scrollTop","search","href","states","STATE_UUID","Magna","__state","__subscribers","history","replaceState","state","body","title","_this","__setActiveUrl","window","addEventListener","preventDefault","destroyResults","xs","dataLayer","event","setScrollOnPopstate","obj","queryStringParams","pushState","responses","escapedPathname","querySelectorAll","element","filter","origin","test","stateUpdater","split","oldState","lens","lensPath","newState","over","subscribePath","subscribers","subscribeLens","a","view","b","equals","Array","isArray","join","listeners","containsListener","some","listener","String","newEvents","subscriber","dispatchEvent","CustomEvent","detail","Import","importer","__promise","result","Lazy","Module","Plugin","options","Predicate","predicate","Route","parser","keywords","matches","match","reduce","acc","i","processHref","plainObjects","newRequest","createNewRequest","Singleton","initialized","ElementExists","selector","One","target","removeEventListener","OnlyOnRouteChange","pattern","Subscribe","__onEvent"],"mappings":"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"}