{"version":3,"file":"magna.esm.js","sources":["../src/symbols/index.js","../src/utils/log.js","../src/utils/mergeDeepRight.js","../src/utils/pad.js","../src/utils/getRootNode.js","../src/types/Node.js","../node_modules/strict-uri-encode/index.js","../node_modules/decode-uri-component/index.js","../node_modules/split-on-first/index.js","../node_modules/query-string/index.js","../src/utils/combineUrlParams.js","../src/utils/debounce.js","../src/utils/logAction.js","../src/utils/logRoute.js","../src/utils/prettify.js","../src/utils/radioClass.js","../src/utils/regexify.js","../src/utils/tap.js","../src/utils/trace.js","../src/utils/uglify.js","../src/request/Request.js","../node_modules/rambda/src/curry.js","../node_modules/rambda/src/assoc.js","../node_modules/rambda/src/internal/_isInteger.js","../node_modules/rambda/src/assocPath.js","../node_modules/rambda/src/lens.js","../node_modules/rambda/src/path.js","../node_modules/rambda/src/lensPath.js","../node_modules/rambda/src/over.js","../node_modules/rambda/src/view.js","../node_modules/rambda/src/type.js","../node_modules/rambda/src/equals.js","../src/types/Magna.js","../src/types/Import.js","../src/types/Lazy.js","../src/types/Module.js","../src/types/Plugin.js","../src/types/Predicate.js","../src/types/Route.js","../src/types/Singleton.js","../src/predicates/elementExists.js","../src/predicates/one.js","../src/predicates/onlyOnRouteChange.js","../src/predicates/route.js","../src/predicates/subscribe.js"],"sourcesContent":["export const INITIALIZED = Symbol('INITIALIZED')\r\nexport const INIT_PROMISE = Symbol('INIT_PROMISE')\r\nexport const INIT_DONE = Symbol('INIT_DONE')\r\nexport const DESTROY_PROMISE = Symbol('DESTROY_PROMISE')\r\nexport const DESTROY_DONE = Symbol('DESTROY_DONE')\r\nexport const POPSTATE_PROMISE = Symbol('POPSTATE_PROMISE')\r\nexport const POPSTATE_DONE = Symbol('POPSTATE_DONE')\r\nexport const CATCH_PROMISE = Symbol('CATCH_PROMISE')\r\nexport const CATCH_DONE = Symbol('CATCH_DONE')","export default (message, color, ...args) => {\r\n  console.groupCollapsed(\r\n    `%c ${message} `,\r\n    `border-left:6px solid ${color};color:${color}`,\r\n  )\r\n  console.log(...args)\r\n  console.groupEnd()\r\n}\r\n","const isObject = possibleObject =>\r\n  Object.prototype.toString.call(possibleObject) === '[object Object]'\r\n\r\nexport default function mergeDeepRight(left, right) {\r\n  const ret = {}\r\n  for (let key in right) {\r\n    if (Object.hasOwnProperty.call(right, key) === false) {\r\n      continue\r\n    }\r\n    if (isObject(right[key])) {\r\n      ret[key] = mergeDeepRight(left[key], right[key])\r\n    }\r\n    else {\r\n      ret[key] = right[key]\r\n    }\r\n  }\r\n  for (let key in left) {\r\n    if (Object.hasOwnProperty.call(left, key) && typeof ret[key] === 'undefined') {\r\n      ret[key] = left[key]\r\n    }\r\n  }\r\n  return ret\r\n}\r\n","/**\r\n * pad\r\n *\r\n * Add string padding to unsure it uses a {count} amount of characters\r\n *\r\n * @param {int}  count  length of output string\r\n * @param {String}  string\r\n * @param {String}  char  character or string to pad the end of the string with\r\n * @returns {string}\r\n */\r\nexport default function pad(count, string, char = ' ') {\r\n  return string + char.repeat((count - string.length) > 0 ? count - string.length : 0)\r\n}\r\n","export default function getRootNode(node) {\r\n  return node.parent\r\n    ? getRootNode(node.parent)\r\n    : node\r\n}\r\n","import {\r\n  INITIALIZED,\r\n  INIT_DONE,\r\n  INIT_PROMISE,\r\n  POPSTATE_DONE,\r\n  POPSTATE_PROMISE,\r\n} from '../symbols'\r\n\r\nimport log from '../utils/log'\r\nimport mergeDeepRight from '../utils/mergeDeepRight'\r\nimport pad from '../utils/pad'\r\nimport getRootNode from '../utils/getRootNode'\r\n\r\nconst PARENTS = new Map\r\nconst ROOT = new Map\r\nconst makeId = ((id) => () => (id++).toString(16))(16000)\r\n\r\n// propagate down\r\nclass PropagateError extends Error {}\r\nclass BubbleError extends Error {}\r\n\r\nexport default class Node {\r\n\r\n  [Symbol.toStringTag] = 'Node';\r\n\r\n  constructor(config = {}, nodes = []) {\r\n\r\n    if (this.constructor.defaultConfig) {\r\n      this.config = mergeDeepRight(this.constructor.defaultConfig, config)\r\n    } else if (this.constructor.config) {\r\n      this.config = mergeDeepRight(this.constructor.config, config)\r\n    } else {\r\n      this.config = config\r\n    }\r\n    this.nodes = nodes\r\n    this.id = makeId()\r\n\r\n    this[INITIALIZED] = false\r\n    this[INIT_PROMISE] = Promise.resolve(null)\r\n    this[INIT_DONE] = false\r\n    this[POPSTATE_PROMISE] = Promise.resolve(null)\r\n    this[POPSTATE_DONE] = false\r\n\r\n    this.initChildren()\r\n  }\r\n  // TODO: add link to root magna node to each child node\r\n  initChildren() {\r\n    this.nodes.forEach(node => {\r\n      node.parent = this\r\n    })\r\n  }\r\n  init({ request, response }) {\r\n    return this.id\r\n  }\r\n  destroy({ request }) {\r\n  }\r\n  popstate({ request, response }) {\r\n    this.info('popstate')\r\n  }\r\n  shouldInitialize({ request }) {\r\n    return !this.parent || this.parent[INITIALIZED]\r\n  }\r\n  initPromise({ request }) {\r\n    return Promise.resolve(`http: ${this.id}`)\r\n  }\r\n  getInitPromise({ request }) {\r\n    this[INITIALIZED] = false\r\n    if (this.shouldInitialize({ request })) {\r\n      this.info(`init`)\r\n      this[INITIALIZED] = true\r\n      return this.initPromise({ request })\r\n    }\r\n  }\r\n  popstatePromise({ request }) {\r\n    return Promise.resolve(`popstate: ${this.id}`)\r\n  }\r\n  getPopstatePromise({ request }) {\r\n    this[INITIALIZED] = false\r\n    if (this.shouldInitialize({ request })) {\r\n      this[INITIALIZED] = true\r\n      return this.popstatePromise({ request })\r\n    }\r\n  }\r\n  getParentInitPromise() {\r\n    return this.parent ? this.parent[INIT_PROMISE] : Promise.resolve('root')\r\n  }\r\n  getParentPopstatePromise() {\r\n    return this.parent ? this.parent[POPSTATE_PROMISE] : Promise.resolve('root')\r\n  }\r\n  runInit({ request }) {\r\n    // wait for both the parent and own promise to resolve\r\n    this[INIT_PROMISE] = Promise.all([\r\n      // get parent promise\r\n      this.getParentInitPromise({ request }),\r\n      // own promise\r\n      this.getInitPromise({ request })\r\n    ])\r\n    // resolve the promise\r\n      .then(([parentResponse, response]) => {\r\n        // only call init if the Node is initialized\r\n        if (this[INITIALIZED]) {\r\n          return Promise.resolve(\r\n            this.init({\r\n              request,\r\n              response,\r\n              config: this.config,\r\n            })\r\n          )\r\n        }\r\n      })\r\n      .catch(error => this.runCatch({ request, error }))\r\n\r\n    // call all the nodes\r\n    this[INIT_DONE] = Promise.all([\r\n      this[INIT_PROMISE],\r\n      ...this.nodes.map(node =>\r\n        node.runInit({ request })\r\n      )\r\n    ])\r\n\r\n    return this[INIT_DONE]\r\n  }\r\n\r\n  runPopstate({ request }) {\r\n    this[POPSTATE_PROMISE] = Promise.all([\r\n      // get parent promise\r\n      this.getParentPopstatePromise({ request }),\r\n      // own promise\r\n      this.getPopstatePromise({ request }),\r\n    ])\r\n      .then(([ parentPopstateResult, popstateResult ]) => {\r\n        // only call init if the Node is initialized\r\n          if (this[INITIALIZED]) {\r\n            return Promise.resolve(\r\n              this.popstate({\r\n                request,\r\n                response: popstateResult,\r\n                popstateResult,\r\n                config: this.config\r\n              })\r\n            )\r\n          }\r\n        }\r\n      )\r\n      // resolve the promise\r\n      .catch(error => this.runCatch({ request, error }))\r\n\r\n    // call all the nodes\r\n    this[POPSTATE_DONE] = Promise.all([\r\n      this[POPSTATE_PROMISE],\r\n      ...this.nodes.map(node =>\r\n        node.runPopstate({ request })\r\n      )\r\n    ])\r\n\r\n    return this[POPSTATE_DONE]\r\n  }\r\n\r\n  runDestroy({ request }) {\r\n    if (this[INITIALIZED]) {\r\n      this.info('destroy')\r\n      this[INITIALIZED] = false\r\n      const resolved = this.nodes.map(node => node.runDestroy({ request }))\r\n      return Promise.all([\r\n        this.destroy({ request, config: this.config }),\r\n        ...resolved\r\n      ])\r\n    }\r\n    return Promise.resolve()\r\n  }\r\n\r\n  runCatch({ request, error }) {\r\n    return this.catch({ request, error })\r\n  }\r\n\r\n  catch({ request, error }) {\r\n    if (this[INITIALIZED]) {\r\n      this[INITIALIZED] = false\r\n      switch (error.constructor) {\r\n        case PropagateError:\r\n          if (this.onPropagateError({ request, error }) !== false) {\r\n            this.nodes.forEach(node => node.catch({ request, error, stack: error.stack }))\r\n          }\r\n          break\r\n        case BubbleError:\r\n          if (this.onBubbleError({ request, error }) !== false) {\r\n            this.parent.catch({ request, error, stack: error.stack })\r\n          }\r\n          break\r\n        case Error:\r\n          this.onCatch({ request, error, stack: error.stack })\r\n        // do something for standard error\r\n      }\r\n      log(`${this.constructor.name}::error`, '#e6194b', {\r\n        self: this,\r\n        error,\r\n        stack: error.stack,\r\n      })\r\n      throw error\r\n    }\r\n  }\r\n\r\n  onCatch({ request, error }) {\r\n    this.log('onCatch', { request, error })\r\n  }\r\n\r\n  onPropagateError({ request, error }) {\r\n\r\n  }\r\n  onBubbleError({ request, error }) {\r\n\r\n  }\r\n\r\n  get parent() {\r\n    return PARENTS.get(this)\r\n  }\r\n  set parent(parent) {\r\n    return PARENTS.set(this, parent)\r\n  }\r\n\r\n  get magna() {\r\n    return ROOT.has(this)\r\n      ? ROOT.get(this)\r\n      : ROOT.set(this, getRootNode(this)), ROOT.get(this)\r\n  }\r\n\r\n  log(method, message) {\r\n    let plugin = this.constructor.plugin\r\n    if (this.magna.debug && (typeof plugin === 'undefined' || plugin.debug === true)) {\r\n      plugin = plugin || { debug: true, color: '#777' }\r\n      console.log(`%c--> ${this.constructor.name}::${method}`, `color: ${plugin.color||'#000'}`, message, this)\r\n    }\r\n  }\r\n\r\n  info(method, ...args) {\r\n    let plugin = this.constructor.plugin\r\n    if (this.magna.debug && (typeof plugin === 'undefined' || plugin.debug === true)) {\r\n      plugin = plugin || { debug: true, color: '#777' }\r\n      console.groupCollapsed(`%c%s %c%s`, 'color:#aaa', pad(10, this[Symbol.toStringTag]), `color: ${plugin.color}`, `${this.constructor.name}::${method}`)\r\n      console.log(this, ...args)\r\n      console.groupEnd()\r\n    }\r\n  }\r\n\r\n  setState(path, stateReducer) {\r\n    this.magna.setState(path, stateReducer)\r\n    return this.magna.getState(path)\r\n  }\r\n\r\n  subscribe(path, cb) {\r\n    this.magna.subscribe(this, path, cb)\r\n    return true\r\n  }\r\n\r\n  unsubscribe(path, cb) {\r\n    this.magna.unsubscribe(this, path, cb)\r\n    return true\r\n  }\r\n\r\n  loaderStart() {}\r\n  loaderStop() {}\r\n}\r\n","'use strict';\nmodule.exports = str => encodeURIComponent(str).replace(/[!'()*]/g, x => `%${x.charCodeAt(0).toString(16).toUpperCase()}`);\n","'use strict';\nvar token = '%[a-f0-9]{2}';\nvar singleMatcher = new RegExp(token, 'gi');\nvar multiMatcher = new RegExp('(' + token + ')+', 'gi');\n\nfunction decodeComponents(components, split) {\n\ttry {\n\t\t// Try to decode the entire string first\n\t\treturn decodeURIComponent(components.join(''));\n\t} catch (err) {\n\t\t// Do nothing\n\t}\n\n\tif (components.length === 1) {\n\t\treturn components;\n\t}\n\n\tsplit = split || 1;\n\n\t// Split the array in 2 parts\n\tvar left = components.slice(0, split);\n\tvar right = components.slice(split);\n\n\treturn Array.prototype.concat.call([], decodeComponents(left), decodeComponents(right));\n}\n\nfunction decode(input) {\n\ttry {\n\t\treturn decodeURIComponent(input);\n\t} catch (err) {\n\t\tvar tokens = input.match(singleMatcher);\n\n\t\tfor (var i = 1; i < tokens.length; i++) {\n\t\t\tinput = decodeComponents(tokens, i).join('');\n\n\t\t\ttokens = input.match(singleMatcher);\n\t\t}\n\n\t\treturn input;\n\t}\n}\n\nfunction customDecodeURIComponent(input) {\n\t// Keep track of all the replacements and prefill the map with the `BOM`\n\tvar replaceMap = {\n\t\t'%FE%FF': '\\uFFFD\\uFFFD',\n\t\t'%FF%FE': '\\uFFFD\\uFFFD'\n\t};\n\n\tvar match = multiMatcher.exec(input);\n\twhile (match) {\n\t\ttry {\n\t\t\t// Decode as big chunks as possible\n\t\t\treplaceMap[match[0]] = decodeURIComponent(match[0]);\n\t\t} catch (err) {\n\t\t\tvar result = decode(match[0]);\n\n\t\t\tif (result !== match[0]) {\n\t\t\t\treplaceMap[match[0]] = result;\n\t\t\t}\n\t\t}\n\n\t\tmatch = multiMatcher.exec(input);\n\t}\n\n\t// Add `%C2` at the end of the map to make sure it does not replace the combinator before everything else\n\treplaceMap['%C2'] = '\\uFFFD';\n\n\tvar entries = Object.keys(replaceMap);\n\n\tfor (var i = 0; i < entries.length; i++) {\n\t\t// Replace all decoded components\n\t\tvar key = entries[i];\n\t\tinput = input.replace(new RegExp(key, 'g'), replaceMap[key]);\n\t}\n\n\treturn input;\n}\n\nmodule.exports = function (encodedURI) {\n\tif (typeof encodedURI !== 'string') {\n\t\tthrow new TypeError('Expected `encodedURI` to be of type `string`, got `' + typeof encodedURI + '`');\n\t}\n\n\ttry {\n\t\tencodedURI = encodedURI.replace(/\\+/g, ' ');\n\n\t\t// Try the built in decoder first\n\t\treturn decodeURIComponent(encodedURI);\n\t} catch (err) {\n\t\t// Fallback to a more advanced decoder\n\t\treturn customDecodeURIComponent(encodedURI);\n\t}\n};\n","'use strict';\n\nmodule.exports = (string, separator) => {\n\tif (!(typeof string === 'string' && typeof separator === 'string')) {\n\t\tthrow new TypeError('Expected the arguments to be of type `string`');\n\t}\n\n\tif (separator === '') {\n\t\treturn [string];\n\t}\n\n\tconst separatorIndex = string.indexOf(separator);\n\n\tif (separatorIndex === -1) {\n\t\treturn [string];\n\t}\n\n\treturn [\n\t\tstring.slice(0, separatorIndex),\n\t\tstring.slice(separatorIndex + separator.length)\n\t];\n};\n","'use strict';\nconst strictUriEncode = require('strict-uri-encode');\nconst decodeComponent = require('decode-uri-component');\nconst splitOnFirst = require('split-on-first');\n\nfunction encoderForArrayFormat(options) {\n\tswitch (options.arrayFormat) {\n\t\tcase 'index':\n\t\t\treturn key => (result, value) => {\n\t\t\t\tconst index = result.length;\n\t\t\t\tif (value === undefined || (options.skipNull && value === null)) {\n\t\t\t\t\treturn result;\n\t\t\t\t}\n\n\t\t\t\tif (value === null) {\n\t\t\t\t\treturn [...result, [encode(key, options), '[', index, ']'].join('')];\n\t\t\t\t}\n\n\t\t\t\treturn [\n\t\t\t\t\t...result,\n\t\t\t\t\t[encode(key, options), '[', encode(index, options), ']=', encode(value, options)].join('')\n\t\t\t\t];\n\t\t\t};\n\n\t\tcase 'bracket':\n\t\t\treturn key => (result, value) => {\n\t\t\t\tif (value === undefined || (options.skipNull && value === null)) {\n\t\t\t\t\treturn result;\n\t\t\t\t}\n\n\t\t\t\tif (value === null) {\n\t\t\t\t\treturn [...result, [encode(key, options), '[]'].join('')];\n\t\t\t\t}\n\n\t\t\t\treturn [...result, [encode(key, options), '[]=', encode(value, options)].join('')];\n\t\t\t};\n\n\t\tcase 'comma':\n\t\tcase 'separator':\n\t\t\treturn key => (result, value) => {\n\t\t\t\tif (value === null || value === undefined || value.length === 0) {\n\t\t\t\t\treturn result;\n\t\t\t\t}\n\n\t\t\t\tif (result.length === 0) {\n\t\t\t\t\treturn [[encode(key, options), '=', encode(value, options)].join('')];\n\t\t\t\t}\n\n\t\t\t\treturn [[result, encode(value, options)].join(options.arrayFormatSeparator)];\n\t\t\t};\n\n\t\tdefault:\n\t\t\treturn key => (result, value) => {\n\t\t\t\tif (value === undefined || (options.skipNull && value === null)) {\n\t\t\t\t\treturn result;\n\t\t\t\t}\n\n\t\t\t\tif (value === null) {\n\t\t\t\t\treturn [...result, encode(key, options)];\n\t\t\t\t}\n\n\t\t\t\treturn [...result, [encode(key, options), '=', encode(value, options)].join('')];\n\t\t\t};\n\t}\n}\n\nfunction parserForArrayFormat(options) {\n\tlet result;\n\n\tswitch (options.arrayFormat) {\n\t\tcase 'index':\n\t\t\treturn (key, value, accumulator) => {\n\t\t\t\tresult = /\\[(\\d*)\\]$/.exec(key);\n\n\t\t\t\tkey = key.replace(/\\[\\d*\\]$/, '');\n\n\t\t\t\tif (!result) {\n\t\t\t\t\taccumulator[key] = value;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif (accumulator[key] === undefined) {\n\t\t\t\t\taccumulator[key] = {};\n\t\t\t\t}\n\n\t\t\t\taccumulator[key][result[1]] = value;\n\t\t\t};\n\n\t\tcase 'bracket':\n\t\t\treturn (key, value, accumulator) => {\n\t\t\t\tresult = /(\\[\\])$/.exec(key);\n\t\t\t\tkey = key.replace(/\\[\\]$/, '');\n\n\t\t\t\tif (!result) {\n\t\t\t\t\taccumulator[key] = value;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif (accumulator[key] === undefined) {\n\t\t\t\t\taccumulator[key] = [value];\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\taccumulator[key] = [].concat(accumulator[key], value);\n\t\t\t};\n\n\t\tcase 'comma':\n\t\tcase 'separator':\n\t\t\treturn (key, value, accumulator) => {\n\t\t\t\tconst isArray = typeof value === 'string' && value.split('').indexOf(options.arrayFormatSeparator) > -1;\n\t\t\t\tconst newValue = isArray ? value.split(options.arrayFormatSeparator).map(item => decode(item, options)) : value === null ? value : decode(value, options);\n\t\t\t\taccumulator[key] = newValue;\n\t\t\t};\n\n\t\tdefault:\n\t\t\treturn (key, value, accumulator) => {\n\t\t\t\tif (accumulator[key] === undefined) {\n\t\t\t\t\taccumulator[key] = value;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\taccumulator[key] = [].concat(accumulator[key], value);\n\t\t\t};\n\t}\n}\n\nfunction validateArrayFormatSeparator(value) {\n\tif (typeof value !== 'string' || value.length !== 1) {\n\t\tthrow new TypeError('arrayFormatSeparator must be single character string');\n\t}\n}\n\nfunction encode(value, options) {\n\tif (options.encode) {\n\t\treturn options.strict ? strictUriEncode(value) : encodeURIComponent(value);\n\t}\n\n\treturn value;\n}\n\nfunction decode(value, options) {\n\tif (options.decode) {\n\t\treturn decodeComponent(value);\n\t}\n\n\treturn value;\n}\n\nfunction keysSorter(input) {\n\tif (Array.isArray(input)) {\n\t\treturn input.sort();\n\t}\n\n\tif (typeof input === 'object') {\n\t\treturn keysSorter(Object.keys(input))\n\t\t\t.sort((a, b) => Number(a) - Number(b))\n\t\t\t.map(key => input[key]);\n\t}\n\n\treturn input;\n}\n\nfunction removeHash(input) {\n\tconst hashStart = input.indexOf('#');\n\tif (hashStart !== -1) {\n\t\tinput = input.slice(0, hashStart);\n\t}\n\n\treturn input;\n}\n\nfunction getHash(url) {\n\tlet hash = '';\n\tconst hashStart = url.indexOf('#');\n\tif (hashStart !== -1) {\n\t\thash = url.slice(hashStart);\n\t}\n\n\treturn hash;\n}\n\nfunction extract(input) {\n\tinput = removeHash(input);\n\tconst queryStart = input.indexOf('?');\n\tif (queryStart === -1) {\n\t\treturn '';\n\t}\n\n\treturn input.slice(queryStart + 1);\n}\n\nfunction parseValue(value, options) {\n\tif (options.parseNumbers && !Number.isNaN(Number(value)) && (typeof value === 'string' && value.trim() !== '')) {\n\t\tvalue = Number(value);\n\t} else if (options.parseBooleans && value !== null && (value.toLowerCase() === 'true' || value.toLowerCase() === 'false')) {\n\t\tvalue = value.toLowerCase() === 'true';\n\t}\n\n\treturn value;\n}\n\nfunction parse(input, options) {\n\toptions = Object.assign({\n\t\tdecode: true,\n\t\tsort: true,\n\t\tarrayFormat: 'none',\n\t\tarrayFormatSeparator: ',',\n\t\tparseNumbers: false,\n\t\tparseBooleans: false\n\t}, options);\n\n\tvalidateArrayFormatSeparator(options.arrayFormatSeparator);\n\n\tconst formatter = parserForArrayFormat(options);\n\n\t// Create an object with no prototype\n\tconst ret = Object.create(null);\n\n\tif (typeof input !== 'string') {\n\t\treturn ret;\n\t}\n\n\tinput = input.trim().replace(/^[?#&]/, '');\n\n\tif (!input) {\n\t\treturn ret;\n\t}\n\n\tfor (const param of input.split('&')) {\n\t\tlet [key, value] = splitOnFirst(options.decode ? param.replace(/\\+/g, ' ') : param, '=');\n\n\t\t// Missing `=` should be `null`:\n\t\t// http://w3.org/TR/2012/WD-url-20120524/#collect-url-parameters\n\t\tvalue = value === undefined ? null : options.arrayFormat === 'comma' ? value : decode(value, options);\n\t\tformatter(decode(key, options), value, ret);\n\t}\n\n\tfor (const key of Object.keys(ret)) {\n\t\tconst value = ret[key];\n\t\tif (typeof value === 'object' && value !== null) {\n\t\t\tfor (const k of Object.keys(value)) {\n\t\t\t\tvalue[k] = parseValue(value[k], options);\n\t\t\t}\n\t\t} else {\n\t\t\tret[key] = parseValue(value, options);\n\t\t}\n\t}\n\n\tif (options.sort === false) {\n\t\treturn ret;\n\t}\n\n\treturn (options.sort === true ? Object.keys(ret).sort() : Object.keys(ret).sort(options.sort)).reduce((result, key) => {\n\t\tconst value = ret[key];\n\t\tif (Boolean(value) && typeof value === 'object' && !Array.isArray(value)) {\n\t\t\t// Sort object keys, not values\n\t\t\tresult[key] = keysSorter(value);\n\t\t} else {\n\t\t\tresult[key] = value;\n\t\t}\n\n\t\treturn result;\n\t}, Object.create(null));\n}\n\nexports.extract = extract;\nexports.parse = parse;\n\nexports.stringify = (object, options) => {\n\tif (!object) {\n\t\treturn '';\n\t}\n\n\toptions = Object.assign({\n\t\tencode: true,\n\t\tstrict: true,\n\t\tarrayFormat: 'none',\n\t\tarrayFormatSeparator: ','\n\t}, options);\n\n\tvalidateArrayFormatSeparator(options.arrayFormatSeparator);\n\n\tconst formatter = encoderForArrayFormat(options);\n\n\tconst objectCopy = Object.assign({}, object);\n\tif (options.skipNull) {\n\t\tfor (const key of Object.keys(objectCopy)) {\n\t\t\tif (objectCopy[key] === undefined || objectCopy[key] === null) {\n\t\t\t\tdelete objectCopy[key];\n\t\t\t}\n\t\t}\n\t}\n\n\tconst keys = Object.keys(objectCopy);\n\n\tif (options.sort !== false) {\n\t\tkeys.sort(options.sort);\n\t}\n\n\treturn keys.map(key => {\n\t\tconst value = object[key];\n\n\t\tif (value === undefined) {\n\t\t\treturn '';\n\t\t}\n\n\t\tif (value === null) {\n\t\t\treturn encode(key, options);\n\t\t}\n\n\t\tif (Array.isArray(value)) {\n\t\t\treturn value\n\t\t\t\t.reduce(formatter(key), [])\n\t\t\t\t.join('&');\n\t\t}\n\n\t\treturn encode(key, options) + '=' + encode(value, options);\n\t}).filter(x => x.length > 0).join('&');\n};\n\nexports.parseUrl = (input, options) => {\n\treturn {\n\t\turl: removeHash(input).split('?')[0] || '',\n\t\tquery: parse(extract(input), options)\n\t};\n};\n\nexports.stringifyUrl = (input, options) => {\n\tconst url = removeHash(input.url).split('?')[0] || '';\n\tconst queryFromUrl = exports.extract(input.url);\n\tconst parsedQueryFromUrl = exports.parse(queryFromUrl);\n\tconst hash = getHash(input.url);\n\tconst query = Object.assign(parsedQueryFromUrl, input.query);\n\tlet queryString = exports.stringify(query, options);\n\tif (queryString) {\n\t\tqueryString = `?${queryString}`;\n\t}\n\n\treturn `${url}${queryString}${hash}`;\n};\n","import qs from 'query-string'\r\n\r\nexport default function combineUrlParams(url, params) {\r\n  const queryIndex = url.indexOf('?')\r\n  if (queryIndex > -1) {\r\n    const urlSlug = url.slice(0, queryIndex)\r\n    const urlParams = qs.parse(url.slice(queryIndex))\r\n    const newQueryParams = qs.stringify({\r\n      ...urlParams,\r\n      ...params\r\n    }, {\r\n      encode: false,\r\n      arrayFormat: 'brackets',\r\n    })\r\n    console.log({ urlSlug, urlParams, newQueryParams })\r\n    return urlSlug + ((newQueryParams.length) ? '?' + newQueryParams : '')\r\n  }\r\n  if (typeof params !== 'undefined' && Object.getOwnPropertyNames(params).length) {\r\n    return url + '?' + qs.stringify(params, { encode: false, arrayFormat: 'brackets'})\r\n  }\r\n  return url\r\n}\r\n","export default function debounce(timeout, callback) {\r\n  let timer = null\r\n  return function(e) {\r\n    const args = arguments\r\n    clearTimeout(timer)\r\n    timer = setTimeout(() => {\r\n      callback.apply(this, args)\r\n    }, timeout)\r\n  }\r\n}\r\n","export default function logAction(action, instance) {\r\n  const magna = instance.magna\r\n  if (magna.debug) {\r\n    if (magna.env === 'development') {\r\n      console.group(`%c%s %c%s`, 'color:#aaa', 'action', 'color:teal', action)\r\n    } else if (magna.env === 'staging') {\r\n      console.groupCollapsed(`%c%s %c%s`, 'color:#aaa', 'action', 'color:teal', action)\r\n    }\r\n  }\r\n}\r\n","export default function logRoute(method, instance) {\r\n  const magna = instance.magna\r\n  if (magna.debug) {\r\n    if (magna.env === 'development') {\r\n      console.group(`%c%s %c%s %c%s %c%s`,\r\n        'color:#aaa', 'route',\r\n        'color:purple', method,\r\n        'color:#111', location.pathname,\r\n        'color:#007bff;font-weight:normal', magna.request.type\r\n      )\r\n    } else if (magna.env === 'staging') {\r\n      console.groupCollapsed(`%c%s %c%s %c%s %c%s`,\r\n        'color:#aaa', 'route',\r\n        'color:purple', method,\r\n        'color:#111', location.pathname,\r\n        'color:#007bff;font-weight:normal', magna.request.type\r\n      )\r\n    }\r\n  }\r\n}\r\n","const prettify = str =>\r\n  str\r\n    .replace('%20', ' ')\r\n    .replace(/([^a-z0-9]+)/gim, ' ')\r\n\r\nexport default prettify\r\n\r\n","export default function radioClass(classes, el) {\r\n  return function _radioClass(clazz) {\r\n    el = document.querySelector(el)\r\n    classes.forEach(x => el.classList.remove(x))\r\n    el.classList.add(clazz)\r\n  }\r\n}\r\n","export default function regexify(str) {\r\n  const index = []\r\n  const params = {}\r\n  const string = str instanceof RegExp ? false : str\r\n    .replace(/\\//g, '\\\\/')\r\n    .replace(/\\.?\\*/, '.*')\r\n    .replace(/\\{([^:]+)\\:?([^}]*)(\\?)?\\}/g, (_, param, type, skippable) => {\r\n      index.push(param)\r\n      params[param] = {\r\n        type\r\n      }\r\n      switch (type) {\r\n        case 'char':\r\n        case 'alpha':\r\n        case 'string':\r\n          return (params[param].regex = `([a-zA-Z-_%&]${skippable ? '*' : '+'})`)\r\n        case 'int':\r\n        case 'num':\r\n        case 'number':\r\n          return (params[param].regex = `([0-9]${skippable ? '*' : '+'})`)\r\n        default:\r\n          if (type) {\r\n            params[param].type = 'regex'\r\n            return (params[param].regex = type)\r\n          }\r\n          params[param].type = 'mixed'\r\n          return (params[param].regex = `([a-zA-Z0-9-_%&]${skippable ? '*' : '+'})`)\r\n      }\r\n    })\r\n\r\n  return {\r\n    params,\r\n    string,\r\n    index,\r\n    regex: str instanceof RegExp ? str : new RegExp(string)\r\n  }\r\n}\r\n","/**\r\n * tap\r\n * call a function with the provided argument but return the original argument\r\n * from the decorated function\r\n * @curried f -> x -> x\r\n * @param fn\r\n * @return {Function}\r\n */\r\nexport default function tap(fn) {\r\n  return function(x) {\r\n    fn.call(this, x)\r\n    return x\r\n  }\r\n}\r\n","export default function trace(log) {\r\n  return function(val) {\r\n    return (console.log(log, val), val)\r\n  }\r\n}\r\n","const uglify = str =>\r\n  str\r\n    .toLowerCase()\r\n    .replace(/([^a-z0-9]+)/gim, '-')\r\n\r\nexport default uglify\r\n","import { combineUrlParams} from '../utils';\r\nimport qs from 'query-string'\r\n\r\nlet prev = null\r\nexport default class Request {\r\n\r\n  type = 'http'\r\n  keywords = []\r\n  params = {}\r\n  values = []\r\n  scrollTop = 0\r\n\r\n  /**\r\n   * @param {String} [type] ('http'|'popstate')\r\n   */\r\n  constructor({\r\n    type = 'http',\r\n    uuid = 0,\r\n    url = location.pathname,\r\n    params,\r\n    scrollTop = 0,\r\n  } = {}) {\r\n    this.prev = prev\r\n    this.type = type\r\n    this.uuid = uuid\r\n    this.pathname = url\r\n    this.scrollTop = scrollTop\r\n    this.params = qs.parse(location.search.slice(location.search.indexOf('?') + 1))\r\n    this.href = combineUrlParams(url, params)\r\n    prev = this.pathname\r\n  }\r\n}\r\n","export function curry(fn, args = []){\n  return (..._args) =>\n    (rest => rest.length >= fn.length ? fn(...rest) : curry(fn, rest))([\n      ...args,\n      ..._args,\n    ])\n}\n","import { curry } from './curry'\n\nfunction assocFn(\n  prop, val, obj\n){\n  return Object.assign(\n    {}, obj, { [ prop ] : val }\n  )\n}\n\nexport const assoc = curry(assocFn)\n","export function _isInteger(n){\n  return n << 0 === n\n}\n\nexport default Number.isInteger || _isInteger\n","import { assoc } from './assoc'\nimport { curry } from './curry'\nimport { _isInteger } from './internal/_isInteger'\n\n/**\n * Makes a shallow clone of an inputect, setting or overriding the nodes required\n * to create the given path\n *\n * @func\n * @category inputect\n * @sig String -> a -> {k: v} -> {k: v}\n * @param {Array<String>|String} list The path to use.\n * @param {*} val The new value\n * @param {inputect} input The inputect to clone\n * @return {inputect} A new inputect equivalent to the original except for the changed property.\n * @example\n *\n *      R.assocPath('a.b.c', 3, {a: {b: {c: 1}} ); //=> {a: {b: {c: 3}}}\n *      R.assocPath('a.b.c', 3, {a: 5});           //=> {a: {b: {c: 3}}}\n */\nfunction assocPathFn(\n  list, val, input\n){\n  const pathArrValue = typeof list === 'string' ? list.split('.') : list\n  if (pathArrValue.length === 0){\n    return val\n  }\n\n  const index = pathArrValue[ 0 ]\n  if (pathArrValue.length > 1){\n    const condition = typeof input !== 'object' ||\n      input === null ||\n      !input.hasOwnProperty(index)\n\n    const nextinput = condition ?\n      _isInteger(parseInt(pathArrValue[ 1 ], 10)) ? [] : {} :\n      input[ index ]\n    val = assocPathFn(\n      Array.prototype.slice.call(pathArrValue, 1), val, nextinput\n    )\n  }\n\n  if (_isInteger(parseInt(index, 10)) && Array.isArray(input)){\n    const arr = input.slice()\n    arr[ index ] = val\n\n    return arr\n  }\n\n  return assoc(\n    index, val, input\n  )\n}\n\nexport const assocPath = curry(assocPathFn)\n","import { map } from './map'\n\nexport function lens(getter, setter){\n\n  if (arguments.length === 1)\n    return _setter => lens(getter, _setter)\n\n  return function(functor){\n    return function(target){\n      return functor(getter(target))\n        .map(focus => setter(focus, target))\n    }\n  }\n}\n","export function path(list, obj){\n  if (arguments.length === 1) return _obj => path(list, _obj)\n\n  if (obj === null || obj === undefined){\n    return undefined\n  }\n  let willReturn = obj\n  let counter = 0\n\n  const pathArrValue = typeof list === 'string' ? list.split('.') : list\n\n  while (counter < pathArrValue.length){\n    if (willReturn === null || willReturn === undefined){\n      return undefined\n    }\n    willReturn = willReturn[ pathArrValue[ counter ] ]\n    counter++\n  }\n\n  return willReturn\n}\n","import { assocPath } from './assocPath'\nimport { lens } from './lens'\nimport { path } from './path'\n\nexport function lensPath(key){\n  return lens(path(key), assocPath(key))\n}\n","const Identity = x => ({\n  x,\n  map : fn => Identity(fn(x)),\n})\n\nexport function over(\n  lens, fn, object\n){\n  if (arguments.length === 1)\n    return (_fn, _object) => over(\n      lens, _fn, _object\n    )\n  if (arguments.length === 2)\n    return _object => over(\n      lens, fn, _object\n    )\n\n  return lens(x => Identity(fn(x)))(object).x\n}\n","const Const = x => ({\n  x,\n  map : fn => Const(x),\n})\n\nexport function view(lens, target){\n  if (arguments.length === 1)\n    return _target => view(lens, _target)\n\n  return lens(Const)(target).x\n}\n","export function type(input){\n  const typeOf = typeof input\n\n  if (input === null){\n    return 'Null'\n  } else if (input === undefined){\n    return 'Undefined'\n  } else if (typeOf === 'boolean'){\n    return 'Boolean'\n  } else if (typeOf === 'number'){\n    return Number.isNaN(input) ? 'NaN' : 'Number'\n  } else if (typeOf === 'string'){\n    return 'String'\n  } else if (Array.isArray(input)){\n    return 'Array'\n  } else if (input instanceof RegExp){\n    return 'RegExp'\n  }\n\n  const asStr = input && input.toString ? input.toString() : ''\n\n  if ([ 'true', 'false' ].includes(asStr)) return 'Boolean'\n  if (!Number.isNaN(Number(asStr))) return 'Number'\n  if (asStr.startsWith('async')) return 'Async'\n  if (asStr === '[object Promise]') return 'Promise'\n  if (typeOf === 'function') return 'Function'\n  if (input instanceof String) return 'String'\n\n  return 'Object'\n}\n","import { type } from './type'\n\nfunction parseError(maybeError){\n  const typeofError = maybeError.__proto__.toString()\n  if (![ 'Error', 'TypeError' ].includes(typeofError)) return []\n\n  return [ typeofError, maybeError.message ]\n}\n\nfunction parseDate(maybeDate){\n  if (!maybeDate.toDateString) return [ false ]\n\n  return [ true, maybeDate.getTime() ]\n}\n\nfunction parseRegex(maybeRegex){\n  if (maybeRegex.constructor !== RegExp) return [ false ]\n\n  return [ true, maybeRegex.toString() ]\n}\n\nexport function equals(a, b){\n  if (arguments.length === 1) return _b => equals(a, _b)\n\n  const aType = type(a)\n\n  if (aType !== type(b)) return false\n  if ([ 'NaN', 'Undefined', 'Null' ].includes(aType)) return true\n  if ([ 'Boolean', 'Number', 'String' ].includes(aType)) return a.toString() === b.toString()\n\n  if (aType === 'Array'){\n    const aClone = Array.from(a)\n    const bClone = Array.from(b)\n\n    if (aClone.toString() !== bClone.toString()){\n      return false\n    }\n\n    let loopArrayFlag = true\n    aClone.forEach((aCloneInstance, aCloneIndex) => {\n      if (loopArrayFlag){\n        if (\n          aCloneInstance !== bClone[ aCloneIndex ] &&\n          !equals(aCloneInstance, bClone[ aCloneIndex ])\n        ){\n          loopArrayFlag = false\n        }\n      }\n    })\n\n    return loopArrayFlag\n  }\n\n  const aRegex = parseRegex(a)\n  const bRegex = parseRegex(b)\n\n  if (aRegex[ 0 ]){\n    return bRegex[ 0 ] ? aRegex[ 1 ] === bRegex[ 1 ] : false\n  } else if (bRegex[ 0 ]) return false\n\n  const aDate = parseDate(a)\n  const bDate = parseDate(b)\n\n  if (aDate[ 0 ]){\n    return bDate[ 0 ] ? aDate[ 1 ] === bDate[ 1 ] : false\n  } else if (bDate[ 0 ]) return false\n\n  const aError = parseError(a)\n  const bError = parseError(b)\n\n  if (\n    aError[ 0 ]\n  ){\n    return bError[ 0 ] ?\n      aError[ 0 ] === bError[ 0 ] && aError[ 1 ] === bError[ 1 ] :\n      false\n  }\n\n  if (aType === 'Object'){\n    const aKeys = Object.keys(a)\n\n    if (aKeys.length !== Object.keys(b).length){\n      return false\n    }\n\n    let loopObjectFlag = true\n    aKeys.forEach(aKeyInstance => {\n      if (loopObjectFlag){\n        const aValue = a[ aKeyInstance ]\n        const bValue = b[ aKeyInstance ]\n\n        if (aValue !== bValue && !equals(aValue, bValue)){\n          loopObjectFlag = false\n        }\n      }\n    })\n\n    return loopObjectFlag\n  }\n\n  return false\n}\n","import Node from './Node'\r\nimport {INIT_PROMISE, INITIALIZED} from '../symbols'\r\nimport Request from '../request/Request'\r\nimport qs from 'query-string'\r\nimport {\r\n  logRoute,\r\n  logAction,\r\n  tap,\r\n  combineUrlParams\r\n} from '../utils';\r\n\r\nimport { lensPath } from 'rambda/src/lensPath'\r\nimport { over } from 'rambda/src/over'\r\nimport { view } from 'rambda/src/view'\r\nimport { equals } from 'rambda/src/equals'\r\n\r\n// TODO: move scoped variables to private properties to allow better testing\r\nconst states = []\r\nlet STATE_UUID = 0\r\n\r\nexport default class Magna extends Node {\r\n\r\n  debug = true\r\n  env = 'development'\r\n  setScrollOnPopstate = true;\r\n\r\n  [Symbol.toStringTag] = 'Magna';\r\n\r\n  constructor(nodes) {\r\n    super({}, nodes)\r\n\r\n    this.__state = {}\r\n    this.__subscribers = new Map()\r\n    this[INITIALIZED] = false\r\n    this.request = new Request({\r\n      type: 'http',\r\n      uuid: STATE_UUID,\r\n      url: location.pathname\r\n    })\r\n    states.push(this.request)\r\n\r\n    // add the initial request to the current state\r\n    history.replaceState({\r\n      ...history.state,\r\n      ...this.request,\r\n      scrollTop: document.body.scrollTop,\r\n      index: states.length,\r\n      prev: location.pathname,\r\n    }, document.title)\r\n\r\n\r\n    const _this = this\r\n\r\n    this.__setActiveUrl()\r\n\r\n    window.addEventListener('popstate', e => {\r\n      if(e.state === null) {\r\n         e.preventDefault();\r\n         return false;\r\n      }\r\n\r\n      const request = this.request = {\r\n        ...e.state,\r\n        prev: states[states.length - 1].pathname\r\n      }\r\n\r\n      this.__setActiveUrl()\r\n      // set the previous requests scrollTop position before setting the new Request\r\n      logRoute('popstate', this)\r\n\r\n      return this.runDestroy({ request })\r\n        .then(destroyResults => {\r\n          // const newRequest = new Request('popstate')\r\n          console.groupEnd()\r\n          logRoute('popstate', this)\r\n          return this.runPopstate({ request })\r\n            .then(xs => (console.groupEnd(), xs))\r\n            .then(xs => (logRoute('init', this), xs))\r\n            .then(xs => this.runInit({ request }))\r\n            .then(xs => (console.groupEnd(), xs))\r\n            .then(xs => {\r\n              // push a Pageview to tagmanager\r\n              window.dataLayer && window.dataLayer.push({\r\n                event: 'Pageview',\r\n                url: location.href,\r\n              })\r\n              return xs\r\n            })\r\n        })\r\n    })\r\n  }\r\n\r\n  initChildren() {\r\n    this.nodes.forEach(node => {\r\n      node.parent = this\r\n    })\r\n  }\r\n  getHistory() {\r\n    return states\r\n  }\r\n\r\n  start({\r\n    debug = false,\r\n    env = 'development',\r\n    setScrollOnPopstate = true,\r\n  }) {\r\n    logRoute('start', this)\r\n    this.debug = debug\r\n    this.env = env\r\n    this.setScrollOnPopstate = setScrollOnPopstate\r\n    this[INITIALIZED] = true\r\n    this.initChildren()\r\n    this.runInit({ request: this.request })\r\n      .then(x => (console.groupEnd(), x))\r\n  }\r\n\r\n  popstate({ request, response }) {\r\n    // push a Pageview to tagmanager\r\n    if (this.debug) console.log('popstate', response)\r\n      window.dataLayer && window.dataLayer.push({\r\n        event: 'Pageview',\r\n        url: location.href,\r\n      })\r\n    // document.body.scrollTop = this.setScrollOnPopstate && this.request.request.scrollTop || 0\r\n    if (this.debug) console.groupEnd()\r\n    return Promise.resolve()\r\n  }\r\n\r\n  pushState(obj, title, url, params) {\r\n    STATE_UUID++\r\n    // update the scrollTop of the current history entry\r\n    history.replaceState({\r\n      ...history.state,\r\n      scrollTop: document.body.scrollTop,\r\n      index: states.length\r\n    }, document.title)\r\n\r\n    this.request = new Request({\r\n      type: 'popstate',\r\n      uuid: STATE_UUID,\r\n      href: location.pathname,\r\n      url,\r\n      params,\r\n      title,\r\n      ...obj,\r\n    })\r\n    const queryStringParams = qs.stringify(params, {\r\n      encode: false,\r\n      arrayFormat: 'brackets',\r\n    })\r\n    history.pushState(this.request, this.request.title, url + (queryStringParams ? '?' + queryStringParams : ''))\r\n    this.__setActiveUrl()\r\n    states.push(this.request)\r\n    // set the previous requests scrollTop position before setting the new Request\r\n    logRoute('pushState', this)\r\n    return this.runDestroy({ request: this.request })\r\n      .then(destroyResults => {\r\n        // const newRequest = new Request('popstate')\r\n        console.groupEnd()\r\n        logRoute('popstate', this)\r\n        return this.runPopstate({ request: this.request })\r\n          .then(xs => (console.groupEnd(), xs))\r\n          .then(xs => (logRoute('init', this), xs))\r\n          .then(xs => this.runInit({ request: this.request }))\r\n          .then(xs => (console.groupEnd(), xs))\r\n          .then(xs => {\r\n            // push a Pageview to tagmanager\r\n            window.dataLayer && window.dataLayer.push({\r\n              event: 'Pageview',\r\n              url: location.href,\r\n            })\r\n            return xs\r\n          })\r\n      })\r\n  }\r\n\r\n  use(nodes) {\r\n    this.nodes = [...this.nodes, ...nodes]\r\n    this.initChildren()\r\n    return this\r\n  }\r\n\r\n  rerun() {\r\n    this.destroy(this.request)\r\n      .then((responses) => {\r\n        this.request = new Request({ type: 'manual', ...this.request })\r\n        this.init(this.request)\r\n      })\r\n    return this\r\n  }\r\n\r\n  __setActiveUrl() {\r\n    const escapedPathname = location.pathname\r\n      .replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&')\r\n    document.querySelectorAll('.link--active').forEach(element =>\r\n      element.classList.remove('link--active')\r\n    )\r\n    ;([...document.querySelectorAll('a[href]')])\r\n      .filter(element => {\r\n        const href = element.href.replace(location.origin, '')\r\n        return new RegExp(\"^\" + escapedPathname + \"$\").test(href)\r\n      })\r\n      .forEach(element => element.classList.add('link--active'))\r\n  }\r\n\r\n  getState(path) {\r\n    return { ...this.__state }\r\n  }\r\n\r\n  setState(path, stateUpdater) {\r\n    if (typeof path === 'string') path = path.split('.')\r\n    path = path || ['global']\r\n    const oldState = this.__state\r\n    const lens = lensPath(path)\r\n    // set the new state\r\n    const newState = over(lens, stateUpdater, this.__state)\r\n    // const newState = stateUpdater(this.__state)\r\n    if (newState === this.__state) {\r\n      throw new Error('Do not mutate the state, please return a new object for the state')\r\n    }\r\n    this.__state = newState\r\n\r\n    // trigger any subscribers\r\n    for (const [subscribePath, subscribers] of this.__subscribers) {\r\n      const subscribeLens = lensPath(subscribePath.split('.'))\r\n      const a = view(subscribeLens, oldState)\r\n      const b = view(subscribeLens, newState)\r\n      // check to see if the previous state has changed at this path\r\n      if (!equals(a, b)) {\r\n        // state has changed, fire the events\r\n        subscribers.forEach(({ instance, cb }) => {\r\n          if (instance[INITIALIZED]) {\r\n            over(subscribeLens, cb, newState)\r\n          }\r\n        })\r\n      }\r\n    }\r\n    return this\r\n  }\r\n\r\n  subscribe(instance, path, cb) {\r\n    path = !path ? 'global' : Array.isArray(path) ? path.join('.') : path\r\n    let listeners = []\r\n    if (this.__subscribers.has(path)) {\r\n      listeners = this.__subscribers.get(path)\r\n    }\r\n    const containsListener = listeners.some(listener => listener.cb === cb && listener.instance === instance)\r\n    // only set a callback once\r\n    if (!containsListener) {\r\n      listeners.push({ instance, cb, state: {} })\r\n    }\r\n    this.__subscribers.set(path, listeners)\r\n  }\r\n\r\n  unsubscribe(instance, path, cb) {\r\n    path = Array.isArray(path) ? path.join('.') : String(path)\r\n    const subscribers = this.__subscribers.get(path)\r\n    const newEvents = subscribers.filter(subscriber =>\r\n      subscriber.instance !== instance && subscriber.cb !== cb\r\n    )\r\n    this.__subscribers.set(path, newEvents)\r\n    return true\r\n  }\r\n\r\n  trigger(path) {\r\n    if (this.__subscribers.has(path)) {\r\n      this.__subscribers.get(path).forEach(({ cb, instance }) => {\r\n        if (instance[INITIALIZED]) {\r\n          cb(this.getState())\r\n          // send a signal through the browser event system so it can be subscribed to from anywhere\r\n          window.dispatchEvent(new CustomEvent(path, {\r\n            detail: {\r\n              state: this.getState(),\r\n              instance\r\n            },\r\n          }))\r\n        }\r\n      })\r\n    }\r\n  }\r\n\r\n}\r\n","import { INITIALIZED } from '../symbols'\r\nimport log from '../utils/log'\r\nimport Node from './Node'\r\n\r\nexport default class Import extends Node {\r\n\r\n  [Symbol.toStringTag] = 'Import';\r\n\r\n  constructor(importer, nodes = []) {\r\n    super({}, nodes)\r\n    this.__promise = null\r\n    this.importer = importer\r\n  }\r\n  initChildren() {\r\n    this.nodes.forEach(node => node.parent = this)\r\n  }\r\n  initPromise({ request }) {\r\n    return (this.__promise = this.__promise || this.importer({ request }))\r\n  }\r\n  popstatePromise({ request }) {\r\n    return (this.__promise = this.__promise || this.importer({ request }))\r\n  }\r\n  runInit({ request }) {\r\n    return super.runInit({ request })\r\n      .then(result =>\r\n        this[INITIALIZED] && this.__promise && this.__promise.then(node => {\r\n          node.default.parent = this\r\n          return node.default.runInit({ request })\r\n        })\r\n      )\r\n  }\r\n  runPopstate({ request }) {\r\n    return super.runPopstate({ request })\r\n      .then(result =>\r\n        this[INITIALIZED] && this.__promise && this.__promise.then(node =>\r\n          node.default.runPopstate({ request })\r\n        )\r\n      )\r\n  }\r\n  runDestroy({ request }) {\r\n    return super.runDestroy({ request })\r\n      .then(result =>\r\n        this.__promise && this.__promise.then(node =>\r\n          node.default.runDestroy({ request })\r\n        )\r\n      )\r\n  }\r\n  init({ request }) {\r\n    return this.url\r\n  }\r\n}\r\n","import { INITIALIZED } from '../symbols'\r\nimport log from '../utils/log'\r\nimport Node from './Node'\r\n\r\nexport default class Lazy extends Node {\r\n\r\n  [Symbol.toStringTag] = 'Lazy';\r\n\r\n  constructor(importer, config, nodes = []) {\r\n    super(config, nodes)\r\n    this.__promise = null\r\n    this.importer = importer\r\n    this.instance = null\r\n  }\r\n  initChildren() {\r\n    // this.instance.parent = this\r\n  }\r\n  initPromise({ request }) {\r\n    return (this.__promise = this.__promise || this.importer({ request }))\r\n  }\r\n  popstatePromise({ request }) {\r\n    return (this.__promise = this.__promise || this.importer({ request }))\r\n  }\r\n  runInit({ request }) {\r\n    return super.runInit({ request })\r\n      .then(result =>\r\n        this[INITIALIZED] && this.__promise && this.__promise.then(node => {\r\n          this.instance = new node.default(this.config)\r\n          this.instance.runInit({request})\r\n          return this.instance\r\n        })\r\n      )\r\n  }\r\n  runPopstate({ request }) {\r\n    return super.runPopstate({ request })\r\n      .then(result =>\r\n        this[INITIALIZED] && this.__promise && this.__promise.then(node =>\r\n          this.instance.runPopstate({ request })\r\n        )\r\n      )\r\n  }\r\n  runDestroy({ request }) {\r\n    return super.runDestroy({ request })\r\n      .then(result =>\r\n        this.__promise && this.__promise.then(node =>\r\n          this.instance.runDestroy({ request })\r\n        )\r\n      )\r\n  }\r\n  init({ request }) {\r\n    return this.url\r\n  }\r\n}\r\n","import Node from './Node'\r\n\r\nexport default class Module extends Node {\r\n\r\n  [Symbol.toStringTag] = 'Module'\r\n\r\n  constructor(nodes) {\r\n    super({}, nodes)\r\n  }\r\n  init({ request }) {\r\n    return request.url\r\n  }\r\n}\r\n","import Node from './Node'\r\n\r\nimport { tap, log } from '../utils'\r\n\r\nexport default class Plugin extends Node {\r\n\r\n  [Symbol.toStringTag] = 'Plugin'\r\n\r\n  constructor(options) {\r\n    super(options)\r\n  }\r\n  init({ request }) {\r\n    return request.url\r\n  }\r\n}\r\n","import { INITIALIZED } from '../symbols'\r\n\r\nimport Node from './Node'\r\n\r\nexport default class Predicate extends Node {\r\n\r\n  [Symbol.toStringTag] = 'Predicate';\r\n\r\n  shouldInitialize({ request }) {\r\n    return !this.parent || (this.parent[INITIALIZED] && this.predicate({ request }))\r\n  }\r\n  predicate({ request }) {\r\n    throw new Error(`Predicate class must contain a predicate method that returns a boolean`)\r\n  }\r\n}\r\n","import qs from 'query-string'\r\n\r\nimport { pad, trace } from '../utils'\r\nimport regexify from '../utils/regexify'\r\nimport Predicate from './Predicate'\r\n\r\nexport default class Route extends Predicate {\r\n\r\n  [Symbol.toStringTag] = 'Route';\r\n\r\n  static plugin = {\r\n    color: '#A82DFF',\r\n    debug: true,\r\n  }\r\n\r\n  constructor(url, nodes = []) {\r\n    super({ url }, nodes)\r\n  }\r\n  predicate({ request }) {\r\n    return this.parser.regex.test(location.pathname)\r\n  }\r\n\r\n  processHref({ href, regex, params, keywords, index }) {\r\n    const matches = href.match(regex)\r\n    return !matches ? {} : index.reduce((acc, x, i) => ({\r\n      ...acc,\r\n      [x]: matches[i + 1]\r\n    }), {})\r\n  }\r\n\r\n  createNewRequest({ request }) {\r\n    const parser = regexify(this.config.url)\r\n    const params = this.processHref({ href: location.pathname, ...parser })\r\n    const search = qs.parse(location.search.slice(1), {\r\n      plainObjects: true,\r\n    })\r\n    this.parser = parser\r\n    this.params = params\r\n    this.search = search\r\n    return {\r\n      ...request,\r\n      params: {\r\n        ...(request.params && request.params),\r\n        ...params\r\n      },\r\n      search\r\n    }\r\n  }\r\n\r\n  runInit({ request }) {\r\n    const newRequest = this.createNewRequest({ request })\r\n    return super.runInit({ request: newRequest })\r\n  }\r\n\r\n  runPopstate({ request }) {\r\n    const newRequest = this.createNewRequest({ request })\r\n    return super.runPopstate({ request: newRequest })\r\n  }\r\n\r\n info(method, ...args) {\r\n    let plugin = this.constructor.plugin\r\n    if (this.magna.debug && (typeof plugin === 'undefined' || plugin.debug === true)) {\r\n      plugin = plugin || { debug: true, color: '#777' }\r\n      console.groupCollapsed(`%c%s %c%s`, 'color:#aaa', pad(10, this[Symbol.toStringTag]), `color: ${plugin.color}`, `${this.constructor.name}::${method}`, this.config.url)\r\n      console.log(this, ...args)\r\n      console.groupEnd()\r\n    }\r\n  }\r\n\r\n}\r\n\r\n","import Node from './Node'\r\n\r\nimport { tap, log } from '../utils'\r\n\r\nexport default class Singleton extends Node {\r\n\r\n  [Symbol.toStringTag] = 'Singleton'\r\n  initialized = false\r\n\r\n  constructor(options) {\r\n    super(options)\r\n  }\r\n  shouldInitialize({ request }) {\r\n    if (this.initialized)\r\n      return false\r\n    return (this.initialized = true)\r\n  }\r\n  init({ request }) {\r\n    return request.url\r\n  }\r\n}","import Predicate from '../types/Predicate';\r\n\r\nexport class ElementExists extends Predicate {\r\n\r\n    [Symbol.toStringTag] = 'ElementExists';\r\n\r\n    constructor(selector, nodes) {\r\n        super({selector}, nodes)\r\n    }\r\n    predicate({ request }) {\r\n        return !!document.querySelector(this.config.selector)\r\n    }\r\n}\r\n\r\nexport default (selector, nodes) =>\r\n  new ElementExists(selector, nodes)\r\n","import Node from '../types/Node'\r\nimport { INITIALIZED } from '../symbols';\r\n/*\r\n* one\r\n*\r\n* Initialize the child nodes when the user fires an event from a page interaction\r\n*\r\n* ```\r\n* import { Plugin, one } from '@carednavmagna'\r\n* import { one } from '@magna/predicates/one'\r\n*\r\n* magna.use([\r\n*   one('click', '#my-element', [\r\n*     new Plugin()\r\n*   ])\r\n* ])\r\n* ```\r\n*/\r\nexport class One extends Node {\r\n\r\n  #target = null\r\n  #callback = null\r\n\r\n  constructor(event, target, nodes) {\r\n    super({ event, target }, nodes)\r\n  }\r\n\r\n  runInit({ request }) {\r\n    this[INITIALIZED] = true\r\n    // don't init the node, bind the event listener\r\n    this.#target = document.querySelector(this.config.target)\r\n    this.#target.addEventListener(this.config.event, (this.#callback = e => {\r\n      // remove the event after it has been fired\r\n      this.#target.removeEventListener(this.config.event, this.#callback)\r\n      // once the event listener has fired load the node\r\n      super.runInit({ request })\r\n    }))\r\n  }\r\n\r\n  runDestroy({ request }) {\r\n    // unbind the event\r\n    this.#target.removeEventListener(this.config.event, this.#callback)\r\n    // run destroy\r\n    return super.runDestroy({ request })\r\n  }\r\n\r\n}\r\n\r\nexport default (target, event, nodes) =>\r\n  new One(target, event, nodes)\r\n","import Node from '../types/Node'\r\n\r\nexport class OnlyOnRouteChange extends Node {\r\n\r\n  constructor(pattern, nodes) {\r\n    super(pattern, nodes)\r\n    this.nodes = nodes\r\n    this.pattern = pattern\r\n    this.regex = regexify(pattern)\r\n  }\r\n\r\n  initNodes({ request }) {\r\n    if (this.regex.test(request.prev) !== this.regex.test(request.pathname)) {\r\n      return super.initNodes({ request })\r\n    }\r\n    return Promise.resolve('OnlyOnRouteChange:same-url')\r\n  }\r\n\r\n  initDestroy({ request }) {\r\n    if (this.regex.test(request.prev) !== this.regex.test(request.pathname)) {\r\n      return super.initDestroy({ request })\r\n    }\r\n    return Promise.resolve('OnlyOnRouteChange:same-url')\r\n  }\r\n\r\n}\r\n\r\nexport default (url, nodes) =>\r\n  new OnlyOnRouteChange(url, nodes)\r\n","import Route from '../types/Route'\r\n\r\nexport { default as Route } from '../types/Route'\r\n\r\nexport default (url, nodes) =>\r\n  new Route(url, nodes)\r\n","import Node from '../types/Node'\r\nimport { INITIALIZED } from '../symbols'\r\n\r\n/*\r\n* subscribe\r\n*\r\n* Subscribe to state changes, when the state changes the plugin will be initialized\r\n* It will only ever initialize once per lifecycle, which is reset when popstate fires\r\n*\r\n* ```\r\n* import { Plugin, subscribe } from '@coredna/magna'\r\n*\r\n* magna.use([\r\n*   subscribe('my.custom.event', [\r\n*     new Plugin()\r\n*   ])\r\n* ])\r\n* ```\r\n*/\r\nexport class Subscribe extends Node {\r\n\r\n  constructor(event, nodes) {\r\n    super({ event }, nodes)\r\n  }\r\n\r\n  runInit({ request }) {\r\n    // INITIALIZED must be set for the event to fire when the state is changed\r\n    this[INITIALIZED] = true\r\n    // don't init the node, bind the event listener\r\n    this.subscribe(this.config.event, (this.__onEvent = e => {\r\n      // once the event listener has fired load the node\r\n      this.unsubscribe(this.config.event, this.__onEvent)\r\n      super.runInit({ request })\r\n    }))\r\n  }\r\n\r\n  runDestroy({ request }) {\r\n    // unbind the event\r\n    this.unsubscribe(this.config.event, this.__onEvent)\r\n    // run destroy\r\n    super.runDestroy({ request })\r\n  }\r\n}\r\n\r\nexport default (target, event, nodes) =>\r\n  new Subscribe(target, event, nodes)\r\n"],"names":["INITIALIZED","Symbol","INIT_PROMISE","INIT_DONE","POPSTATE_PROMISE","POPSTATE_DONE","message","color","console","groupCollapsed","args","log","groupEnd","isObject","possibleObject","Object","prototype","toString","call","mergeDeepRight","left","right","ret","key","hasOwnProperty","pad","count","string","char","repeat","length","getRootNode","node","parent","PARENTS","Map","ROOT","makeId","id","PropagateError","Error","BubbleError","toStringTag","Node","config","nodes","constructor","defaultConfig","Promise","resolve","initChildren","forEach","request","response","info","shouldInitialize","initPromise","popstatePromise","all","getParentInitPromise","getInitPromise","then","parentResponse","init","error","runCatch","map","runInit","getParentPopstatePromise","getPopstatePromise","parentPopstateResult","popstateResult","popstate","runPopstate","resolved","runDestroy","destroy","onPropagateError","stack","onBubbleError","onCatch","name","self","method","plugin","magna","debug","path","stateReducer","setState","getState","cb","subscribe","unsubscribe","get","set","has","decodeComponent","combineUrlParams","url","params","queryIndex","indexOf","urlSlug","slice","urlParams","qs","parse","newQueryParams","stringify","encode","arrayFormat","getOwnPropertyNames","debounce","timeout","callback","timer","e","arguments","clearTimeout","setTimeout","apply","logAction","action","instance","env","group","logRoute","location","pathname","type","prettify","str","replace","radioClass","classes","el","_radioClass","clazz","document","querySelector","x","classList","remove","add","regexify","index","RegExp","_","param","skippable","push","regex","tap","fn","trace","val","uglify","toLowerCase","prev","Request","uuid","scrollTop","search","href","states","STATE_UUID","Magna","__state","__subscribers","history","replaceState","state","body","title","_this","__setActiveUrl","window","addEventListener","preventDefault","destroyResults","xs","dataLayer","event","setScrollOnPopstate","obj","queryStringParams","pushState","responses","escapedPathname","querySelectorAll","element","filter","origin","test","stateUpdater","split","oldState","lens","lensPath","newState","over","subscribePath","subscribers","subscribeLens","a","view","b","equals","Array","isArray","join","listeners","containsListener","some","listener","String","newEvents","subscriber","dispatchEvent","CustomEvent","detail","Import","importer","__promise","result","Lazy","Module","Plugin","options","Predicate","predicate","Route","parser","keywords","matches","match","reduce","acc","i","processHref","plainObjects","newRequest","createNewRequest","Singleton","initialized","ElementExists","selector","One","target","removeEventListener","OnlyOnRouteChange","pattern","Subscribe","__onEvent"],"mappings":"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"}