{"version":3,"file":"magna.esm.js","sources":["../src/symbols/index.js","../src/utils/log.js","../src/utils/mergeDeepRight.js","../src/utils/pad.js","../src/utils/getRootNode.js","../src/types/Node.js","../node_modules/rambda/src/path.js","../node_modules/rambda/src/always.js","../node_modules/rambda/src/clone.js","../node_modules/rambda/src/type.js","../node_modules/rambda/src/equals.js","../node_modules/rambda/src/curry.js","../node_modules/rambda/src/assoc.js","../node_modules/rambda/src/internal/_isInteger.js","../node_modules/rambda/src/assocPath.js","../node_modules/rambda/src/lens.js","../node_modules/rambda/src/lensPath.js","../node_modules/rambda/src/over.js","../node_modules/rambda/src/view.js","../src/utils/escapeRegexCharacters.js","../src/utils/State.js","../node_modules/strict-uri-encode/index.js","../node_modules/decode-uri-component/index.js","../node_modules/split-on-first/index.js","../node_modules/query-string/index.js","../src/utils/combineUrlParams.js","../src/utils/debounce.js","../src/utils/logAction.js","../src/utils/logRoute.js","../src/utils/prettify.js","../src/utils/radioClass.js","../src/utils/regexify.js","../src/utils/tap.js","../src/utils/trace.js","../src/utils/uglify.js","../src/request/Request.js","../src/types/Magna.js","../src/types/ExtendablePlugin.js","../src/types/Import.js","../src/types/Lazy.js","../src/types/Module.js","../src/types/Plugin.js","../src/types/Predicate.js","../src/types/Route.js","../src/types/Singleton.js","../src/predicates/elementExists.js","../src/predicates/one.js","../src/predicates/onlyOnRouteChange.js","../src/predicates/route.js","../src/predicates/subscribe.js"],"sourcesContent":["export const INITIALIZED = Symbol('INITIALIZED')\r\nexport const INIT_PROMISE = Symbol('INIT_PROMISE')\r\nexport const INIT_DONE = Symbol('INIT_DONE')\r\nexport const DESTROY_PROMISE = Symbol('DESTROY_PROMISE')\r\nexport const DESTROY_DONE = Symbol('DESTROY_DONE')\r\nexport const POPSTATE_PROMISE = Symbol('POPSTATE_PROMISE')\r\nexport const POPSTATE_DONE = Symbol('POPSTATE_DONE')\r\nexport const CATCH_PROMISE = Symbol('CATCH_PROMISE')\r\nexport const CATCH_DONE = Symbol('CATCH_DONE')","export default (message, color, ...args) => {\r\n  console.groupCollapsed(\r\n    `%c ${message} `,\r\n    `border-left:6px solid ${color};color:${color}`,\r\n  )\r\n  console.log(...args)\r\n  console.groupEnd()\r\n}\r\n","const isObject = possibleObject =>\r\n  Object.prototype.toString.call(possibleObject) === '[object Object]'\r\n\r\nexport default function mergeDeepRight(left, right) {\r\n  const ret = {}\r\n  for (let key in right) {\r\n    if (Object.hasOwnProperty.call(right, key) === false) {\r\n      continue\r\n    }\r\n    if (isObject(right[key])) {\r\n      ret[key] = mergeDeepRight(left[key], right[key])\r\n    }\r\n    else {\r\n      ret[key] = right[key]\r\n    }\r\n  }\r\n  for (let key in left) {\r\n    if (Object.hasOwnProperty.call(left, key) && typeof ret[key] === 'undefined') {\r\n      ret[key] = left[key]\r\n    }\r\n  }\r\n  return ret\r\n}\r\n","/**\r\n * pad\r\n *\r\n * Add string padding to unsure it uses a {count} amount of characters\r\n *\r\n * @param {int}  count  length of output string\r\n * @param {String}  string\r\n * @param {String}  char  character or string to pad the end of the string with\r\n * @returns {string}\r\n */\r\nexport default function pad(count, string, char = ' ') {\r\n  return string + char.repeat((count - string.length) > 0 ? count - string.length : 0)\r\n}\r\n","export default function getRootNode(node) {\r\n  return node.parent\r\n    ? getRootNode(node.parent)\r\n    : node\r\n}\r\n","import {\r\n  INITIALIZED,\r\n  INIT_DONE,\r\n  INIT_PROMISE,\r\n  POPSTATE_DONE,\r\n  POPSTATE_PROMISE,\r\n} from '../symbols'\r\n\r\nimport log from '../utils/log'\r\nimport mergeDeepRight from '../utils/mergeDeepRight'\r\nimport pad from '../utils/pad'\r\nimport getRootNode from '../utils/getRootNode'\r\n\r\nconst PARENTS = new Map\r\nconst ROOT = new Map\r\nconst makeId = ((id) => () => (id++).toString(16))(16000)\r\n\r\n// propagate down\r\nclass PropagateError extends Error {}\r\nclass BubbleError extends Error {}\r\n\r\nexport default class Node {\r\n\r\n  [Symbol.toStringTag] = 'Node';\r\n\r\n  constructor(config = {}, nodes = []) {\r\n\r\n    if (this.constructor.defaultConfig) {\r\n      this.config = mergeDeepRight(this.constructor.defaultConfig, config)\r\n    } else if (this.constructor.config) {\r\n      this.config = mergeDeepRight(this.constructor.config, config)\r\n    } else {\r\n      this.config = config\r\n    }\r\n    this.nodes = nodes\r\n    this.id = makeId()\r\n\r\n    this[INITIALIZED] = false\r\n    this[INIT_PROMISE] = Promise.resolve(null)\r\n    this[INIT_DONE] = false\r\n    this[POPSTATE_PROMISE] = Promise.resolve(null)\r\n    this[POPSTATE_DONE] = false\r\n\r\n    this.initChildren()\r\n  }\r\n  // TODO: add link to root magna node to each child node\r\n  initChildren() {\r\n    this.nodes.forEach(node => {\r\n      node.parent = this\r\n    })\r\n  }\r\n  init({ request, response }) {\r\n    return this.id\r\n  }\r\n  destroy({ request }) {\r\n  }\r\n  popstate({ request, response }) {\r\n    this.info('popstate')\r\n  }\r\n  shouldInitialize({ request }) {\r\n    return !this.parent || this.parent[INITIALIZED]\r\n  }\r\n  initPromise({ request }) {\r\n    return Promise.resolve(`http: ${this.id}`)\r\n  }\r\n  getInitPromise({ request }) {\r\n    this[INITIALIZED] = false\r\n    if (this.shouldInitialize({ request })) {\r\n      this.info(`init`)\r\n      this[INITIALIZED] = true\r\n      return this.initPromise({ request })\r\n    }\r\n  }\r\n  popstatePromise({ request }) {\r\n    return Promise.resolve(`popstate: ${this.id}`)\r\n  }\r\n  getPopstatePromise({ request }) {\r\n    this[INITIALIZED] = false\r\n    if (this.shouldInitialize({ request })) {\r\n      this[INITIALIZED] = true\r\n      return this.popstatePromise({ request })\r\n    }\r\n  }\r\n  getParentInitPromise() {\r\n    return this.parent ? this.parent[INIT_PROMISE] : Promise.resolve('root')\r\n  }\r\n  getParentPopstatePromise() {\r\n    return this.parent ? this.parent[POPSTATE_PROMISE] : Promise.resolve('root')\r\n  }\r\n  runInit({ request }) {\r\n    // wait for both the parent and own promise to resolve\r\n    this[INIT_PROMISE] = Promise.all([\r\n      // get parent promise\r\n      this.getParentInitPromise({ request }),\r\n      // own promise\r\n      this.getInitPromise({ request })\r\n    ])\r\n    // resolve the promise\r\n      .then(([parentResponse, response]) => {\r\n        // only call init if the Node is initialized\r\n        if (this[INITIALIZED]) {\r\n          return Promise.resolve(\r\n            this.init({\r\n              request,\r\n              response,\r\n              config: this.config,\r\n            })\r\n          )\r\n        }\r\n      })\r\n      .catch(error => this.runCatch({ request, error }))\r\n\r\n    // call all the nodes\r\n    this[INIT_DONE] = Promise.all([\r\n      this[INIT_PROMISE],\r\n      ...this.nodes.map(node =>\r\n        node.runInit({ request })\r\n      )\r\n    ])\r\n\r\n    return this[INIT_DONE]\r\n  }\r\n\r\n  runPopstate({ request }) {\r\n    this[POPSTATE_PROMISE] = Promise.all([\r\n      // get parent promise\r\n      this.getParentPopstatePromise({ request }),\r\n      // own promise\r\n      this.getPopstatePromise({ request }),\r\n    ])\r\n      .then(([ parentPopstateResult, popstateResult ]) => {\r\n        // only call init if the Node is initialized\r\n          if (this[INITIALIZED]) {\r\n            return Promise.resolve(\r\n              this.popstate({\r\n                request,\r\n                response: popstateResult,\r\n                popstateResult,\r\n                config: this.config\r\n              })\r\n            )\r\n          }\r\n        }\r\n      )\r\n      // resolve the promise\r\n      .catch(error => this.runCatch({ request, error }))\r\n\r\n    // call all the nodes\r\n    this[POPSTATE_DONE] = Promise.all([\r\n      this[POPSTATE_PROMISE],\r\n      ...this.nodes.map(node =>\r\n        node.runPopstate({ request })\r\n      )\r\n    ])\r\n\r\n    return this[POPSTATE_DONE]\r\n  }\r\n\r\n  runDestroy({ request }) {\r\n    if (this[INITIALIZED]) {\r\n      this.info('destroy')\r\n      this[INITIALIZED] = false\r\n      const resolved = this.nodes.map(node => node.runDestroy({ request }))\r\n      return Promise.all([\r\n        this.destroy({ request, config: this.config }),\r\n        ...resolved\r\n      ])\r\n    }\r\n    return Promise.resolve()\r\n  }\r\n\r\n  runCatch({ request, error }) {\r\n    return this.catch({ request, error })\r\n  }\r\n\r\n  catch({ request, error }) {\r\n    if (this[INITIALIZED]) {\r\n      this[INITIALIZED] = false\r\n      switch (error.constructor) {\r\n        case PropagateError:\r\n          if (this.onPropagateError({ request, error }) !== false) {\r\n            this.nodes.forEach(node => node.catch({ request, error, stack: error.stack }))\r\n          }\r\n          break\r\n        case BubbleError:\r\n          if (this.onBubbleError({ request, error }) !== false) {\r\n            this.parent.catch({ request, error, stack: error.stack })\r\n          }\r\n          break\r\n        case Error:\r\n          this.onCatch({ request, error, stack: error.stack })\r\n        // do something for standard error\r\n      }\r\n      log(`${this.constructor.name}::error`, '#e6194b', {\r\n        self: this,\r\n        error,\r\n        stack: error.stack,\r\n      })\r\n      throw error\r\n    }\r\n  }\r\n\r\n  onCatch({ request, error }) {\r\n    this.log('onCatch', { request, error })\r\n  }\r\n\r\n  onPropagateError({ request, error }) {\r\n\r\n  }\r\n  onBubbleError({ request, error }) {\r\n\r\n  }\r\n\r\n  get parent() {\r\n    return PARENTS.get(this)\r\n  }\r\n  set parent(parent) {\r\n    return PARENTS.set(this, parent)\r\n  }\r\n\r\n  get magna() {\r\n    return ROOT.has(this)\r\n      ? ROOT.get(this)\r\n      : ROOT.set(this, getRootNode(this)), ROOT.get(this)\r\n  }\r\n\r\n  log(method, message) {\r\n    let plugin = this.constructor.plugin\r\n    if (this.magna.debug && (typeof plugin === 'undefined' || plugin.debug === true)) {\r\n      plugin = plugin || { debug: true, color: '#777' }\r\n      console.log(`%c--> ${this[Symbol.toStringTag]}::${method}`, `color: ${plugin.color||'#000'}`, message, this)\r\n    }\r\n  }\r\n\r\n  info(method, ...args) {\r\n    let plugin = this.constructor.plugin\r\n    if (this.magna.debug && (typeof plugin === 'undefined' || plugin.debug === true)) {\r\n      plugin = plugin || { debug: true, color: '#777' }\r\n      console.groupCollapsed(`%c%s %c%s`, 'color:#aaa', pad(10, this[Symbol.toStringTag]), `color: ${plugin.color}`, `${this[Symbol.toStringTag] || this.constructor.name}::${method}`)\r\n      console.log(this, ...args)\r\n      console.groupEnd()\r\n    }\r\n  }\r\n\r\n  setState(path, stateReducer) {\r\n    this.magna.setState(path, stateReducer)\r\n    return this.magna.getState(path)\r\n  }\r\n\r\n  subscribe(path, cb) {\r\n    this.magna.subscribe(this, path, cb)\r\n    return true\r\n  }\r\n\r\n  unsubscribe(path, cb) {\r\n    this.magna.unsubscribe(this, path, cb)\r\n    return true\r\n  }\r\n\r\n  loaderStart() {}\r\n  loaderStop() {}\r\n}\r\n","export function path(list, obj){\n  if (arguments.length === 1) return _obj => path(list, _obj)\n\n  if (obj === null || obj === undefined){\n    return undefined\n  }\n  let willReturn = obj\n  let counter = 0\n\n  const pathArrValue = typeof list === 'string' ? list.split('.') : list\n\n  while (counter < pathArrValue.length){\n    if (willReturn === null || willReturn === undefined){\n      return undefined\n    }\n    willReturn = willReturn[ pathArrValue[ counter ] ]\n    counter++\n  }\n\n  return willReturn\n}\n","export function always(x){\n  return () => x\n}\n","export function clone(val){\n  const out = Array.isArray(val) ? Array(val.length) : {}\n  if (val && val.getTime) return new Date(val.getTime())\n\n  for (const key in val){\n    const v = val[ key ]\n    out[ key ] =\n      typeof v === 'object' && v !== null ?\n        v.getTime ?\n          new Date(v.getTime()) :\n          clone(v) :\n        v\n  }\n\n  return out\n}\n","export function type(input){\n  const typeOf = typeof input\n\n  if (input === null){\n    return 'Null'\n  } else if (input === undefined){\n    return 'Undefined'\n  } else if (typeOf === 'boolean'){\n    return 'Boolean'\n  } else if (typeOf === 'number'){\n    return Number.isNaN(input) ? 'NaN' : 'Number'\n  } else if (typeOf === 'string'){\n    return 'String'\n  } else if (Array.isArray(input)){\n    return 'Array'\n  } else if (input instanceof RegExp){\n    return 'RegExp'\n  }\n\n  const asStr = input && input.toString ? input.toString() : ''\n\n  if ([ 'true', 'false' ].includes(asStr)) return 'Boolean'\n  if (!Number.isNaN(Number(asStr))) return 'Number'\n  if (asStr.startsWith('async')) return 'Async'\n  if (asStr === '[object Promise]') return 'Promise'\n  if (typeOf === 'function') return 'Function'\n  if (input instanceof String) return 'String'\n\n  return 'Object'\n}\n","import { type } from './type'\n\nfunction parseError(maybeError){\n  const typeofError = maybeError.__proto__.toString()\n  if (![ 'Error', 'TypeError' ].includes(typeofError)) return []\n\n  return [ typeofError, maybeError.message ]\n}\n\nfunction parseDate(maybeDate){\n  if (!maybeDate.toDateString) return [ false ]\n\n  return [ true, maybeDate.getTime() ]\n}\n\nfunction parseRegex(maybeRegex){\n  if (maybeRegex.constructor !== RegExp) return [ false ]\n\n  return [ true, maybeRegex.toString() ]\n}\n\nexport function equals(a, b){\n  if (arguments.length === 1) return _b => equals(a, _b)\n\n  const aType = type(a)\n\n  if (aType !== type(b)) return false\n  if ([ 'NaN', 'Undefined', 'Null' ].includes(aType)) return true\n  if ([ 'Boolean', 'Number', 'String' ].includes(aType)) return a.toString() === b.toString()\n\n  if (aType === 'Array'){\n    const aClone = Array.from(a)\n    const bClone = Array.from(b)\n\n    if (aClone.toString() !== bClone.toString()){\n      return false\n    }\n\n    let loopArrayFlag = true\n    aClone.forEach((aCloneInstance, aCloneIndex) => {\n      if (loopArrayFlag){\n        if (\n          aCloneInstance !== bClone[ aCloneIndex ] &&\n          !equals(aCloneInstance, bClone[ aCloneIndex ])\n        ){\n          loopArrayFlag = false\n        }\n      }\n    })\n\n    return loopArrayFlag\n  }\n\n  const aRegex = parseRegex(a)\n  const bRegex = parseRegex(b)\n\n  if (aRegex[ 0 ]){\n    return bRegex[ 0 ] ? aRegex[ 1 ] === bRegex[ 1 ] : false\n  } else if (bRegex[ 0 ]) return false\n\n  const aDate = parseDate(a)\n  const bDate = parseDate(b)\n\n  if (aDate[ 0 ]){\n    return bDate[ 0 ] ? aDate[ 1 ] === bDate[ 1 ] : false\n  } else if (bDate[ 0 ]) return false\n\n  const aError = parseError(a)\n  const bError = parseError(b)\n\n  if (\n    aError[ 0 ]\n  ){\n    return bError[ 0 ] ?\n      aError[ 0 ] === bError[ 0 ] && aError[ 1 ] === bError[ 1 ] :\n      false\n  }\n\n  if (aType === 'Object'){\n    const aKeys = Object.keys(a)\n\n    if (aKeys.length !== Object.keys(b).length){\n      return false\n    }\n\n    let loopObjectFlag = true\n    aKeys.forEach(aKeyInstance => {\n      if (loopObjectFlag){\n        const aValue = a[ aKeyInstance ]\n        const bValue = b[ aKeyInstance ]\n\n        if (aValue !== bValue && !equals(aValue, bValue)){\n          loopObjectFlag = false\n        }\n      }\n    })\n\n    return loopObjectFlag\n  }\n\n  return false\n}\n","export function curry(fn, args = []){\n  return (..._args) =>\n    (rest => rest.length >= fn.length ? fn(...rest) : curry(fn, rest))([\n      ...args,\n      ..._args,\n    ])\n}\n","import { curry } from './curry'\n\nfunction assocFn(\n  prop, val, obj\n){\n  return Object.assign(\n    {}, obj, { [ prop ] : val }\n  )\n}\n\nexport const assoc = curry(assocFn)\n","export function _isInteger(n){\n  return n << 0 === n\n}\n\nexport default Number.isInteger || _isInteger\n","import { assoc } from './assoc'\nimport { curry } from './curry'\nimport { _isInteger } from './internal/_isInteger'\n\n/**\n * Makes a shallow clone of an inputect, setting or overriding the nodes required\n * to create the given path\n *\n * @func\n * @category inputect\n * @sig String -> a -> {k: v} -> {k: v}\n * @param {Array<String>|String} list The path to use.\n * @param {*} val The new value\n * @param {inputect} input The inputect to clone\n * @return {inputect} A new inputect equivalent to the original except for the changed property.\n * @example\n *\n *      R.assocPath('a.b.c', 3, {a: {b: {c: 1}} ); //=> {a: {b: {c: 3}}}\n *      R.assocPath('a.b.c', 3, {a: 5});           //=> {a: {b: {c: 3}}}\n */\nfunction assocPathFn(\n  list, val, input\n){\n  const pathArrValue = typeof list === 'string' ? list.split('.') : list\n  if (pathArrValue.length === 0){\n    return val\n  }\n\n  const index = pathArrValue[ 0 ]\n  if (pathArrValue.length > 1){\n    const condition = typeof input !== 'object' ||\n      input === null ||\n      !input.hasOwnProperty(index)\n\n    const nextinput = condition ?\n      _isInteger(parseInt(pathArrValue[ 1 ], 10)) ? [] : {} :\n      input[ index ]\n    val = assocPathFn(\n      Array.prototype.slice.call(pathArrValue, 1), val, nextinput\n    )\n  }\n\n  if (_isInteger(parseInt(index, 10)) && Array.isArray(input)){\n    const arr = input.slice()\n    arr[ index ] = val\n\n    return arr\n  }\n\n  return assoc(\n    index, val, input\n  )\n}\n\nexport const assocPath = curry(assocPathFn)\n","import { map } from './map'\n\nexport function lens(getter, setter){\n\n  if (arguments.length === 1)\n    return _setter => lens(getter, _setter)\n\n  return function(functor){\n    return function(target){\n      return functor(getter(target))\n        .map(focus => setter(focus, target))\n    }\n  }\n}\n","import { assocPath } from './assocPath'\nimport { lens } from './lens'\nimport { path } from './path'\n\nexport function lensPath(key){\n  return lens(path(key), assocPath(key))\n}\n","const Identity = x => ({\n  x,\n  map : fn => Identity(fn(x)),\n})\n\nexport function over(\n  lens, fn, object\n){\n  if (arguments.length === 1)\n    return (_fn, _object) => over(\n      lens, _fn, _object\n    )\n  if (arguments.length === 2)\n    return _object => over(\n      lens, fn, _object\n    )\n\n  return lens(x => Identity(fn(x)))(object).x\n}\n","const Const = x => ({\n  x,\n  map : fn => Const(x),\n})\n\nexport function view(lens, target){\n  if (arguments.length === 1)\n    return _target => view(lens, _target)\n\n  return lens(Const)(target).x\n}\n","export default function escapeRegexCharacters(string) {\r\n  return string.replace(/[-\\/\\\\^$*+?.()|[\\]{}]/g, '\\\\$&');\r\n}\r\n","/**\r\n * Observer\r\n *\r\n * Decorate your state object with this class to allow you to subscribe to changes.\r\n * import { State } from '@coredna/magna'\r\n *\r\n * class MyClass extends Node {\r\n *   #state = new State({\r\n *     key: 'defaultValue'\r\n *   })\r\n *   init({ request }) {\r\n *     // subscribe to changes in the state using a path to the property\r\n *     this.#state.subscribe('foo.bar', value => console.log('foo.bar changed!', value))\r\n *     // set the state\r\n *     this.#state.foo = 'bar'\r\n *     // get the state value\r\n *     console.log(this.#state.foo)\r\n *     // set a state value using .set\r\n *     this.#state.set(prop, value)\r\n *     // get a state value using .get\r\n *     this.#state.get(prop)\r\n *     // safely set a part of the stat using a path\r\n *     this.#state.setState('path.to.property', state => newState)\r\n *     // Replace the current state and trigger any subscribers\r\n *     this.#state.unsafeReplaceState(newStateObj)\r\n *     // Trigger all listeners of a state\r\n *     this.#state.trigger()\r\n *     // Get a copy of the current state\r\n *     this.#state.getState()\r\n *     // Destroy the current state and all it's listeners\r\n *     this.#state.destroy()\r\n *   }\r\n * }\r\n */\r\nimport { path } from 'rambda/src/path'\r\nimport { always } from 'rambda/src/always'\r\nimport { clone } from 'rambda/src/clone'\r\nimport { equals } from 'rambda/src/equals'\r\nimport { lensPath } from 'rambda/src/lensPath'\r\nimport { over } from 'rambda/src/over'\r\nimport { view } from 'rambda/src/view'\r\nimport escapeRegexCharacters from './escapeRegexCharacters'\r\n\r\nclass StateObserver  {\r\n\r\n  static handler = {\r\n    get(obj, prop, receiver) {\r\n      if (typeof obj[prop] === 'function') {\r\n        return function proxied(...args) {\r\n          return obj[prop].apply(obj, args)\r\n        }\r\n      }\r\n      if (typeof obj[prop] === 'object' && typeof obj[prop] !== 'undefined') {\r\n        return new StateObserver(obj[prop], StateObserver.handler)\r\n      }\r\n      return obj.get(prop)\r\n    },\r\n    set(obj, prop, val) {\r\n      return obj.set(prop, val)\r\n    },\r\n  }\r\n\r\n  constructor(target) {\r\n    /*\r\n    this fancy bit of code will allow us to subclass a Proxy, so when\r\n    people look in the console they will see `StateObserver` rather than `Proxy`\r\n    https://stackoverflow.com/a/38980779/1733478\r\n    */\r\n    Object.setPrototypeOf(this, new Proxy(target, StateObserver.handler))\r\n  }\r\n}\r\n\r\nexport default class State {\r\n\r\n  // these are intentionally using __dunder names so developers can see the\r\n  // state in developer tools without needing to call `State.getState()`\r\n  __subscribers = new Map\r\n  __state = {}\r\n\r\n  constructor(state) {\r\n    this.__state = state\r\n    return new StateObserver(this)\r\n  }\r\n\r\n  get(prop) {\r\n    return this.__state[prop]\r\n  }\r\n\r\n  unsafeReplaceState(newState) {\r\n    const oldState = this.__state\r\n    this.__state = newState\r\n    this.#triggerSubscribers(oldState, this.__state)\r\n    return newState\r\n  }\r\n\r\n  set(prop, val) {\r\n    return this.setState(prop, always(val))\r\n  }\r\n\r\n  setState(path, stateUpdater) {\r\n    path = Array.isArray(path) ? path.join('.') : path\r\n    const oldState = this.__state\r\n    const lens = lensPath(path, stateUpdater)\r\n    // update the state using the stateUpdater function\r\n    this.__state = over(lens, stateUpdater, this.__state)\r\n    this.#triggerSubscribers(oldState, this.__state)\r\n    // return the updated part of the state\r\n    return view(lens, this.__state)\r\n  }\r\n\r\n  #triggerSubscribers(oldState, newState) {\r\n    // trigger any subscribers\r\n    for (const [subscribePath, subscribers] of this.__subscribers) {\r\n      const subscribeLens = lensPath(subscribePath)\r\n      const oldView = view(subscribeLens, oldState)\r\n      const newView = view(subscribeLens, newState)\r\n      // check to see if the previous state has changed at this path\r\n      if (!equals(oldView, newView)) {\r\n        // state has changed, fire the events\r\n        subscribers.forEach(cb => {\r\n          // only clone the new and old state if the developer is requesting it in their callback\r\n          if (cb.length === 3)\r\n            cb(newView, oldView, clone(newState))\r\n          else if (cb.length === 4)\r\n            cb(newView, oldView, clone(newState), clone(oldState))\r\n          else\r\n            cb(newView, oldView)\r\n        })\r\n      }\r\n    }\r\n  }\r\n\r\n  subscribe(path, cb) {\r\n    path = Array.isArray(path) ? path.join('.') : path\r\n    if (!this.__subscribers.has(path)) {\r\n      this.__subscribers.set(path, new Set([]))\r\n    }\r\n    this.__subscribers.get(path).add(cb)\r\n  }\r\n\r\n  unsubscribe(path, cb) {\r\n    path = Array.isArray(path) ? path.join('.') : path\r\n    if (this.__subscribers.has(prop))\r\n      this.__subscribers.get(prop).delete(cb)\r\n  }\r\n\r\n  // TODO: figure out if we can subscribe to a path, maybe need to iterate through subscribers matching strings\r\n  trigger(path) {\r\n    if (path) {\r\n      [...this.__subscribers.entries()]\r\n        .filter(([key, value]) =>\r\n          new RegExp(\"^\" + escapeRegexCharacters(key), 'gmi').test(key)\r\n        )\r\n        .forEach(([key, cb]) => {\r\n          const currentView = view(lensPath(key), this.__state)\r\n          const currentState = clone(this.__state)\r\n          cb(currentView, currentView, currentState, currentState)\r\n        })\r\n    }\r\n    else {\r\n      this.#triggerSubscribers({}, this.__state)\r\n    }\r\n  }\r\n\r\n  getState() {\r\n    return clone(this.__state)\r\n  }\r\n\r\n  getSubscribers() {\r\n    return new Map([...this.__subscribers.entries()].map(([key, value]) => [key, new Set(value)]))\r\n  }\r\n\r\n  unsafeGetState() {\r\n    return this.__state\r\n  }\r\n\r\n  unsafeGetSubscribers() {\r\n    return this.__subscribers\r\n  }\r\n\r\n  destroy() {\r\n    this.__subscribers = new Map()\r\n    this.__state = {}\r\n  }\r\n\r\n}\r\n","'use strict';\nmodule.exports = str => encodeURIComponent(str).replace(/[!'()*]/g, x => `%${x.charCodeAt(0).toString(16).toUpperCase()}`);\n","'use strict';\nvar token = '%[a-f0-9]{2}';\nvar singleMatcher = new RegExp(token, 'gi');\nvar multiMatcher = new RegExp('(' + token + ')+', 'gi');\n\nfunction decodeComponents(components, split) {\n\ttry {\n\t\t// Try to decode the entire string first\n\t\treturn decodeURIComponent(components.join(''));\n\t} catch (err) {\n\t\t// Do nothing\n\t}\n\n\tif (components.length === 1) {\n\t\treturn components;\n\t}\n\n\tsplit = split || 1;\n\n\t// Split the array in 2 parts\n\tvar left = components.slice(0, split);\n\tvar right = components.slice(split);\n\n\treturn Array.prototype.concat.call([], decodeComponents(left), decodeComponents(right));\n}\n\nfunction decode(input) {\n\ttry {\n\t\treturn decodeURIComponent(input);\n\t} catch (err) {\n\t\tvar tokens = input.match(singleMatcher);\n\n\t\tfor (var i = 1; i < tokens.length; i++) {\n\t\t\tinput = decodeComponents(tokens, i).join('');\n\n\t\t\ttokens = input.match(singleMatcher);\n\t\t}\n\n\t\treturn input;\n\t}\n}\n\nfunction customDecodeURIComponent(input) {\n\t// Keep track of all the replacements and prefill the map with the `BOM`\n\tvar replaceMap = {\n\t\t'%FE%FF': '\\uFFFD\\uFFFD',\n\t\t'%FF%FE': '\\uFFFD\\uFFFD'\n\t};\n\n\tvar match = multiMatcher.exec(input);\n\twhile (match) {\n\t\ttry {\n\t\t\t// Decode as big chunks as possible\n\t\t\treplaceMap[match[0]] = decodeURIComponent(match[0]);\n\t\t} catch (err) {\n\t\t\tvar result = decode(match[0]);\n\n\t\t\tif (result !== match[0]) {\n\t\t\t\treplaceMap[match[0]] = result;\n\t\t\t}\n\t\t}\n\n\t\tmatch = multiMatcher.exec(input);\n\t}\n\n\t// Add `%C2` at the end of the map to make sure it does not replace the combinator before everything else\n\treplaceMap['%C2'] = '\\uFFFD';\n\n\tvar entries = Object.keys(replaceMap);\n\n\tfor (var i = 0; i < entries.length; i++) {\n\t\t// Replace all decoded components\n\t\tvar key = entries[i];\n\t\tinput = input.replace(new RegExp(key, 'g'), replaceMap[key]);\n\t}\n\n\treturn input;\n}\n\nmodule.exports = function (encodedURI) {\n\tif (typeof encodedURI !== 'string') {\n\t\tthrow new TypeError('Expected `encodedURI` to be of type `string`, got `' + typeof encodedURI + '`');\n\t}\n\n\ttry {\n\t\tencodedURI = encodedURI.replace(/\\+/g, ' ');\n\n\t\t// Try the built in decoder first\n\t\treturn decodeURIComponent(encodedURI);\n\t} catch (err) {\n\t\t// Fallback to a more advanced decoder\n\t\treturn customDecodeURIComponent(encodedURI);\n\t}\n};\n","'use strict';\n\nmodule.exports = (string, separator) => {\n\tif (!(typeof string === 'string' && typeof separator === 'string')) {\n\t\tthrow new TypeError('Expected the arguments to be of type `string`');\n\t}\n\n\tif (separator === '') {\n\t\treturn [string];\n\t}\n\n\tconst separatorIndex = string.indexOf(separator);\n\n\tif (separatorIndex === -1) {\n\t\treturn [string];\n\t}\n\n\treturn [\n\t\tstring.slice(0, separatorIndex),\n\t\tstring.slice(separatorIndex + separator.length)\n\t];\n};\n","'use strict';\nconst strictUriEncode = require('strict-uri-encode');\nconst decodeComponent = require('decode-uri-component');\nconst splitOnFirst = require('split-on-first');\n\nfunction encoderForArrayFormat(options) {\n\tswitch (options.arrayFormat) {\n\t\tcase 'index':\n\t\t\treturn key => (result, value) => {\n\t\t\t\tconst index = result.length;\n\t\t\t\tif (value === undefined || (options.skipNull && value === null)) {\n\t\t\t\t\treturn result;\n\t\t\t\t}\n\n\t\t\t\tif (value === null) {\n\t\t\t\t\treturn [...result, [encode(key, options), '[', index, ']'].join('')];\n\t\t\t\t}\n\n\t\t\t\treturn [\n\t\t\t\t\t...result,\n\t\t\t\t\t[encode(key, options), '[', encode(index, options), ']=', encode(value, options)].join('')\n\t\t\t\t];\n\t\t\t};\n\n\t\tcase 'bracket':\n\t\t\treturn key => (result, value) => {\n\t\t\t\tif (value === undefined || (options.skipNull && value === null)) {\n\t\t\t\t\treturn result;\n\t\t\t\t}\n\n\t\t\t\tif (value === null) {\n\t\t\t\t\treturn [...result, [encode(key, options), '[]'].join('')];\n\t\t\t\t}\n\n\t\t\t\treturn [...result, [encode(key, options), '[]=', encode(value, options)].join('')];\n\t\t\t};\n\n\t\tcase 'comma':\n\t\tcase 'separator':\n\t\t\treturn key => (result, value) => {\n\t\t\t\tif (value === null || value === undefined || value.length === 0) {\n\t\t\t\t\treturn result;\n\t\t\t\t}\n\n\t\t\t\tif (result.length === 0) {\n\t\t\t\t\treturn [[encode(key, options), '=', encode(value, options)].join('')];\n\t\t\t\t}\n\n\t\t\t\treturn [[result, encode(value, options)].join(options.arrayFormatSeparator)];\n\t\t\t};\n\n\t\tdefault:\n\t\t\treturn key => (result, value) => {\n\t\t\t\tif (value === undefined || (options.skipNull && value === null)) {\n\t\t\t\t\treturn result;\n\t\t\t\t}\n\n\t\t\t\tif (value === null) {\n\t\t\t\t\treturn [...result, encode(key, options)];\n\t\t\t\t}\n\n\t\t\t\treturn [...result, [encode(key, options), '=', encode(value, options)].join('')];\n\t\t\t};\n\t}\n}\n\nfunction parserForArrayFormat(options) {\n\tlet result;\n\n\tswitch (options.arrayFormat) {\n\t\tcase 'index':\n\t\t\treturn (key, value, accumulator) => {\n\t\t\t\tresult = /\\[(\\d*)\\]$/.exec(key);\n\n\t\t\t\tkey = key.replace(/\\[\\d*\\]$/, '');\n\n\t\t\t\tif (!result) {\n\t\t\t\t\taccumulator[key] = value;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif (accumulator[key] === undefined) {\n\t\t\t\t\taccumulator[key] = {};\n\t\t\t\t}\n\n\t\t\t\taccumulator[key][result[1]] = value;\n\t\t\t};\n\n\t\tcase 'bracket':\n\t\t\treturn (key, value, accumulator) => {\n\t\t\t\tresult = /(\\[\\])$/.exec(key);\n\t\t\t\tkey = key.replace(/\\[\\]$/, '');\n\n\t\t\t\tif (!result) {\n\t\t\t\t\taccumulator[key] = value;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif (accumulator[key] === undefined) {\n\t\t\t\t\taccumulator[key] = [value];\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\taccumulator[key] = [].concat(accumulator[key], value);\n\t\t\t};\n\n\t\tcase 'comma':\n\t\tcase 'separator':\n\t\t\treturn (key, value, accumulator) => {\n\t\t\t\tconst isArray = typeof value === 'string' && value.split('').indexOf(options.arrayFormatSeparator) > -1;\n\t\t\t\tconst newValue = isArray ? value.split(options.arrayFormatSeparator).map(item => decode(item, options)) : value === null ? value : decode(value, options);\n\t\t\t\taccumulator[key] = newValue;\n\t\t\t};\n\n\t\tdefault:\n\t\t\treturn (key, value, accumulator) => {\n\t\t\t\tif (accumulator[key] === undefined) {\n\t\t\t\t\taccumulator[key] = value;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\taccumulator[key] = [].concat(accumulator[key], value);\n\t\t\t};\n\t}\n}\n\nfunction validateArrayFormatSeparator(value) {\n\tif (typeof value !== 'string' || value.length !== 1) {\n\t\tthrow new TypeError('arrayFormatSeparator must be single character string');\n\t}\n}\n\nfunction encode(value, options) {\n\tif (options.encode) {\n\t\treturn options.strict ? strictUriEncode(value) : encodeURIComponent(value);\n\t}\n\n\treturn value;\n}\n\nfunction decode(value, options) {\n\tif (options.decode) {\n\t\treturn decodeComponent(value);\n\t}\n\n\treturn value;\n}\n\nfunction keysSorter(input) {\n\tif (Array.isArray(input)) {\n\t\treturn input.sort();\n\t}\n\n\tif (typeof input === 'object') {\n\t\treturn keysSorter(Object.keys(input))\n\t\t\t.sort((a, b) => Number(a) - Number(b))\n\t\t\t.map(key => input[key]);\n\t}\n\n\treturn input;\n}\n\nfunction removeHash(input) {\n\tconst hashStart = input.indexOf('#');\n\tif (hashStart !== -1) {\n\t\tinput = input.slice(0, hashStart);\n\t}\n\n\treturn input;\n}\n\nfunction getHash(url) {\n\tlet hash = '';\n\tconst hashStart = url.indexOf('#');\n\tif (hashStart !== -1) {\n\t\thash = url.slice(hashStart);\n\t}\n\n\treturn hash;\n}\n\nfunction extract(input) {\n\tinput = removeHash(input);\n\tconst queryStart = input.indexOf('?');\n\tif (queryStart === -1) {\n\t\treturn '';\n\t}\n\n\treturn input.slice(queryStart + 1);\n}\n\nfunction parseValue(value, options) {\n\tif (options.parseNumbers && !Number.isNaN(Number(value)) && (typeof value === 'string' && value.trim() !== '')) {\n\t\tvalue = Number(value);\n\t} else if (options.parseBooleans && value !== null && (value.toLowerCase() === 'true' || value.toLowerCase() === 'false')) {\n\t\tvalue = value.toLowerCase() === 'true';\n\t}\n\n\treturn value;\n}\n\nfunction parse(input, options) {\n\toptions = Object.assign({\n\t\tdecode: true,\n\t\tsort: true,\n\t\tarrayFormat: 'none',\n\t\tarrayFormatSeparator: ',',\n\t\tparseNumbers: false,\n\t\tparseBooleans: false\n\t}, options);\n\n\tvalidateArrayFormatSeparator(options.arrayFormatSeparator);\n\n\tconst formatter = parserForArrayFormat(options);\n\n\t// Create an object with no prototype\n\tconst ret = Object.create(null);\n\n\tif (typeof input !== 'string') {\n\t\treturn ret;\n\t}\n\n\tinput = input.trim().replace(/^[?#&]/, '');\n\n\tif (!input) {\n\t\treturn ret;\n\t}\n\n\tfor (const param of input.split('&')) {\n\t\tlet [key, value] = splitOnFirst(options.decode ? param.replace(/\\+/g, ' ') : param, '=');\n\n\t\t// Missing `=` should be `null`:\n\t\t// http://w3.org/TR/2012/WD-url-20120524/#collect-url-parameters\n\t\tvalue = value === undefined ? null : options.arrayFormat === 'comma' ? value : decode(value, options);\n\t\tformatter(decode(key, options), value, ret);\n\t}\n\n\tfor (const key of Object.keys(ret)) {\n\t\tconst value = ret[key];\n\t\tif (typeof value === 'object' && value !== null) {\n\t\t\tfor (const k of Object.keys(value)) {\n\t\t\t\tvalue[k] = parseValue(value[k], options);\n\t\t\t}\n\t\t} else {\n\t\t\tret[key] = parseValue(value, options);\n\t\t}\n\t}\n\n\tif (options.sort === false) {\n\t\treturn ret;\n\t}\n\n\treturn (options.sort === true ? Object.keys(ret).sort() : Object.keys(ret).sort(options.sort)).reduce((result, key) => {\n\t\tconst value = ret[key];\n\t\tif (Boolean(value) && typeof value === 'object' && !Array.isArray(value)) {\n\t\t\t// Sort object keys, not values\n\t\t\tresult[key] = keysSorter(value);\n\t\t} else {\n\t\t\tresult[key] = value;\n\t\t}\n\n\t\treturn result;\n\t}, Object.create(null));\n}\n\nexports.extract = extract;\nexports.parse = parse;\n\nexports.stringify = (object, options) => {\n\tif (!object) {\n\t\treturn '';\n\t}\n\n\toptions = Object.assign({\n\t\tencode: true,\n\t\tstrict: true,\n\t\tarrayFormat: 'none',\n\t\tarrayFormatSeparator: ','\n\t}, options);\n\n\tvalidateArrayFormatSeparator(options.arrayFormatSeparator);\n\n\tconst formatter = encoderForArrayFormat(options);\n\n\tconst objectCopy = Object.assign({}, object);\n\tif (options.skipNull) {\n\t\tfor (const key of Object.keys(objectCopy)) {\n\t\t\tif (objectCopy[key] === undefined || objectCopy[key] === null) {\n\t\t\t\tdelete objectCopy[key];\n\t\t\t}\n\t\t}\n\t}\n\n\tconst keys = Object.keys(objectCopy);\n\n\tif (options.sort !== false) {\n\t\tkeys.sort(options.sort);\n\t}\n\n\treturn keys.map(key => {\n\t\tconst value = object[key];\n\n\t\tif (value === undefined) {\n\t\t\treturn '';\n\t\t}\n\n\t\tif (value === null) {\n\t\t\treturn encode(key, options);\n\t\t}\n\n\t\tif (Array.isArray(value)) {\n\t\t\treturn value\n\t\t\t\t.reduce(formatter(key), [])\n\t\t\t\t.join('&');\n\t\t}\n\n\t\treturn encode(key, options) + '=' + encode(value, options);\n\t}).filter(x => x.length > 0).join('&');\n};\n\nexports.parseUrl = (input, options) => {\n\treturn {\n\t\turl: removeHash(input).split('?')[0] || '',\n\t\tquery: parse(extract(input), options)\n\t};\n};\n\nexports.stringifyUrl = (input, options) => {\n\tconst url = removeHash(input.url).split('?')[0] || '';\n\tconst queryFromUrl = exports.extract(input.url);\n\tconst parsedQueryFromUrl = exports.parse(queryFromUrl);\n\tconst hash = getHash(input.url);\n\tconst query = Object.assign(parsedQueryFromUrl, input.query);\n\tlet queryString = exports.stringify(query, options);\n\tif (queryString) {\n\t\tqueryString = `?${queryString}`;\n\t}\n\n\treturn `${url}${queryString}${hash}`;\n};\n","import qs from 'query-string'\r\n\r\nexport default function combineUrlParams(url, params) {\r\n  const queryIndex = url.indexOf('?')\r\n  if (queryIndex > -1) {\r\n    const urlSlug = url.slice(0, queryIndex)\r\n    const urlParams = qs.parse(url.slice(queryIndex))\r\n    const newQueryParams = qs.stringify({\r\n      ...urlParams,\r\n      ...params\r\n    }, {\r\n      encode: false,\r\n      arrayFormat: 'brackets',\r\n    })\r\n    console.log({ urlSlug, urlParams, newQueryParams })\r\n    return urlSlug + ((newQueryParams.length) ? '?' + newQueryParams : '')\r\n  }\r\n  if (typeof params !== 'undefined' && Object.getOwnPropertyNames(params).length) {\r\n    return url + '?' + qs.stringify(params, { encode: false, arrayFormat: 'brackets'})\r\n  }\r\n  return url\r\n}\r\n","export default function debounce(timeout, callback) {\r\n  let timer = null\r\n  return function(e) {\r\n    const args = arguments\r\n    clearTimeout(timer)\r\n    timer = setTimeout(() => {\r\n      callback.apply(this, args)\r\n    }, timeout)\r\n  }\r\n}\r\n","export default function logAction(action, instance) {\r\n  const magna = instance.magna\r\n  if (magna.debug) {\r\n    if (magna.env === 'development') {\r\n      console.group(`%c%s %c%s`, 'color:#aaa', 'action', 'color:teal', action)\r\n    } else if (magna.env === 'staging') {\r\n      console.groupCollapsed(`%c%s %c%s`, 'color:#aaa', 'action', 'color:teal', action)\r\n    }\r\n  }\r\n}\r\n","export default function logRoute(method, instance) {\r\n  const magna = instance.magna\r\n  if (magna.debug) {\r\n    if (magna.env === 'development') {\r\n      console.group(`%c%s %c%s %c%s %c%s`,\r\n        'color:#aaa', 'route',\r\n        'color:purple', method,\r\n        'color:#111', location.pathname,\r\n        'color:#007bff;font-weight:normal', magna.request.type\r\n      )\r\n    } else if (magna.env === 'staging') {\r\n      console.groupCollapsed(`%c%s %c%s %c%s %c%s`,\r\n        'color:#aaa', 'route',\r\n        'color:purple', method,\r\n        'color:#111', location.pathname,\r\n        'color:#007bff;font-weight:normal', magna.request.type\r\n      )\r\n    }\r\n  }\r\n}\r\n","const prettify = str =>\r\n  str\r\n    .replace('%20', ' ')\r\n    .replace(/([^a-z0-9]+)/gim, ' ')\r\n\r\nexport default prettify\r\n\r\n","export default function radioClass(classes, el) {\r\n  return function _radioClass(clazz) {\r\n    el = document.querySelector(el)\r\n    classes.forEach(x => el.classList.remove(x))\r\n    el.classList.add(clazz)\r\n  }\r\n}\r\n","export default function regexify(str) {\r\n  const index = []\r\n  const params = {}\r\n  const string = str instanceof RegExp ? false : str\r\n    .replace(/\\//g, '\\\\/')\r\n    .replace(/\\.?\\*/, '.*')\r\n    .replace(/\\{([^:]+)\\:?([^}]*)(\\?)?\\}/g, (_, param, type, skippable) => {\r\n      index.push(param)\r\n      params[param] = {\r\n        type\r\n      }\r\n      switch (type) {\r\n        case 'char':\r\n        case 'alpha':\r\n        case 'string':\r\n          return (params[param].regex = `([a-zA-Z-_%&]${skippable ? '*' : '+'})`)\r\n        case 'int':\r\n        case 'num':\r\n        case 'number':\r\n          return (params[param].regex = `([0-9]${skippable ? '*' : '+'})`)\r\n        default:\r\n          if (type) {\r\n            params[param].type = 'regex'\r\n            return (params[param].regex = type)\r\n          }\r\n          params[param].type = 'mixed'\r\n          return (params[param].regex = `([a-zA-Z0-9-_%&]${skippable ? '*' : '+'})`)\r\n      }\r\n    })\r\n\r\n  return {\r\n    params,\r\n    string,\r\n    index,\r\n    regex: str instanceof RegExp ? str : new RegExp(string)\r\n  }\r\n}\r\n","/**\r\n * tap\r\n * call a function with the provided argument but return the original argument\r\n * from the decorated function\r\n * @curried f -> x -> x\r\n * @param fn\r\n * @return {Function}\r\n */\r\nexport default function tap(fn) {\r\n  return function(x) {\r\n    fn.call(this, x)\r\n    return x\r\n  }\r\n}\r\n","export default function trace(log) {\r\n  return function(val) {\r\n    return (console.log(log, val), val)\r\n  }\r\n}\r\n","const uglify = str =>\r\n  str\r\n    .toLowerCase()\r\n    .replace(/([^a-z0-9]+)/gim, '-')\r\n\r\nexport default uglify\r\n","import {\r\n  combineUrlParams,\r\n  mergeDeepRight,\r\n} from '../utils';\r\nimport qs from 'query-string'\r\n\r\nlet prev = null\r\nconst createUUid = ((x) => () => x++ )(0)\r\nexport default class Request {\r\n\r\n  type = 'http'\r\n  keywords = []\r\n  params = {}\r\n  values = []\r\n  scrollTop = 0\r\n  query = {}\r\n\r\n  /**\r\n   * @param {String} [type] ('http'|'popstate')\r\n   */\r\n  constructor({\r\n    type = 'http',\r\n    uuid = createUUid(),\r\n    href = location.href,\r\n    query = {},\r\n    scrollTop = 0,\r\n    title = document.title\r\n  } = {}) {\r\n    this.prev = prev\r\n    this.type = type\r\n    this.uuid = uuid\r\n    if (~href.indexOf('http') && location.origin) {\r\n      href = href.replace(location.origin, '')\r\n    }\r\n    const index = href.indexOf('?')\r\n    const queryStringParams = index > -1 ? qs.parse(href.slice(index + 1)) : {}\r\n    // create the searchParams from the href and the passed in searchParams\r\n    this.query = mergeDeepRight(\r\n      queryStringParams,\r\n      query,\r\n    )\r\n    // stringify the params for use in the application\r\n    this.search = qs.stringify(this.query, {\r\n      encode: false,\r\n      arrayFormat: 'brackets'\r\n    })\r\n    this.pathname = location.pathname\r\n    // create the new href by combining the pathname and all the params\r\n    this.href = this.pathname + (this.search ? `?${this.search}` : '')\r\n    this.title = title\r\n    this.scrollTop = scrollTop\r\n    prev = this.pathname\r\n  }\r\n\r\n  combineParams({\r\n    params,\r\n  }) {\r\n    this.params = mergeDeepRight(this.params, params)\r\n    // NOTE: this could return a new instance of Request to be immutable\r\n    // => Request({ ...this, params: mergeDeepRight(this.params, params) })\r\n    return this\r\n  }\r\n}\r\n\r\n\r\nconst req = {\r\n  type: 'http',\r\n  pathname: location.pathname,\r\n  href: location.href,\r\n  params: {}\r\n}\r\n","import Node from './Node'\r\nimport {INIT_PROMISE, INITIALIZED} from '../symbols'\r\nimport Request from '../request/Request'\r\nimport qs from 'query-string'\r\nimport {\r\n  logRoute,\r\n  logAction,\r\n  tap,\r\n  combineUrlParams\r\n} from '../utils';\r\n\r\nimport { lensPath } from 'rambda/src/lensPath'\r\nimport { over } from 'rambda/src/over'\r\nimport { view } from 'rambda/src/view'\r\nimport { equals } from 'rambda/src/equals'\r\n\r\nexport default class Magna extends Node {\r\n\r\n  debug = true\r\n  env = 'development'\r\n  setScrollOnPopstate = true;\r\n\r\n  [Symbol.toStringTag] = 'Magna';\r\n\r\n  // todo add destroy method to unbind all events and remove all state\r\n\r\n  constructor(nodes) {\r\n    super({}, nodes)\r\n\r\n    this.__state = {}\r\n    this.__subscribers = new Map()\r\n    this[INITIALIZED] = false\r\n\r\n\r\n    this.__setActiveUrl()\r\n\r\n    // TODO: popstate will cause problems with multiple instances of Magna, need to move it out\r\n    window.addEventListener('popstate', e => {\r\n      if(e.state === null) {\r\n         e.preventDefault();\r\n         return false;\r\n      }\r\n\r\n      const request = this.request = new Request(e.state)\r\n\r\n      this.__setActiveUrl()\r\n      // set the previous requests scrollTop position before setting the new Request\r\n      logRoute('popstate', this)\r\n\r\n      return this.runDestroy({ request })\r\n        .then(destroyResults => {\r\n          console.groupEnd()\r\n          logRoute('popstate', this)\r\n          return this.runPopstate({ request })\r\n            .then(xs => (console.groupEnd(), xs))\r\n            .then(xs => (logRoute('init', this), xs))\r\n            .then(xs => this.runInit({ request }))\r\n            .then(xs => (console.groupEnd(), xs))\r\n            .then(xs => {\r\n              // push a Pageview to tagmanager\r\n              window.dataLayer && window.dataLayer.push({\r\n                event: 'Pageview',\r\n                url: location.href,\r\n              })\r\n              return xs\r\n            })\r\n        })\r\n    })\r\n  }\r\n\r\n  initChildren() {\r\n    this.nodes.forEach(node => {\r\n      node.parent = this\r\n    })\r\n  }\r\n\r\n  start({\r\n    debug = false,\r\n    env = 'development',\r\n    setScrollOnPopstate = true,\r\n    request = null, // allow passing a request object for testing purposes\r\n  }) {\r\n    this.debug = debug\r\n    this.env = env\r\n    this.setScrollOnPopstate = setScrollOnPopstate\r\n    this[INITIALIZED] = true\r\n    this.request = request ?? new Request()\r\n\r\n    // add the initial request to the current state\r\n    history.replaceState({\r\n      ...history.state,\r\n      scrollTop: document.body.scrollTop,\r\n      ...this.request,\r\n    }, document.title)\r\n\r\n    logRoute('start', this)\r\n    this.initChildren()\r\n    this.runInit({ request: this.request })\r\n      .then(x => (console.groupEnd(), x))\r\n    return this\r\n  }\r\n\r\n  popstate({ request, response }) {\r\n    // push a Pageview to tagmanager\r\n    if (this.debug) console.log('popstate', response)\r\n      window.dataLayer && window.dataLayer.push({\r\n        event: 'Pageview',\r\n        url: location.href,\r\n      })\r\n    // document.body.scrollTop = this.setScrollOnPopstate && this.request.request.scrollTop || 0\r\n    if (this.debug) console.groupEnd()\r\n    return Promise.resolve()\r\n  }\r\n\r\n\r\n  pushState(obj, title, href, params) {\r\n    this.request = new Request({\r\n      type: 'popstate',\r\n      href,\r\n      params,\r\n      title,\r\n    })\r\n    return this.pushStateWithRequest(this.request)\r\n  }\r\n\r\n  pushStateWithRequest(request) {\r\n    // update the scrollTop of the entry about to be replaced\r\n    history.replaceState({\r\n      ...history.state,\r\n      scrollTop: document.body.scrollTop,\r\n    }, document.title)\r\n\r\n    // push the new state with the native browser api\r\n    history.pushState(request, request.title, request.href)\r\n\r\n    this.__setActiveUrl()\r\n\r\n    // set the previous requests scrollTop position before setting the new Request\r\n    logRoute('pushState', this)\r\n    return this.runDestroy({ request })\r\n      .then(destroyResults => {\r\n        // const newRequest = new Request('popstate')\r\n        console.groupEnd()\r\n        logRoute('popstate', this)\r\n        return this.runPopstate({ request: this.request })\r\n          .then(xs => (console.groupEnd(), xs))\r\n          .then(xs => (logRoute('init', this), xs))\r\n          .then(xs => this.runInit({ request: this.request }))\r\n          .then(xs => (console.groupEnd(), xs))\r\n          .then(xs => {\r\n            // push a Pageview to tagmanager\r\n            window.dataLayer && window.dataLayer.push({\r\n              event: 'Pageview',\r\n              url: location.href,\r\n            })\r\n            return xs\r\n          })\r\n      })\r\n  }\r\n\r\n  use(nodes) {\r\n    this.nodes = [...this.nodes, ...nodes]\r\n    this.initChildren()\r\n    return this\r\n  }\r\n\r\n  rerun() {\r\n    this.destroy(this.request)\r\n      .then((responses) => {\r\n        this.request = new Request({\r\n          type: 'manual', ...this.request\r\n        })\r\n        this.init(this.request)\r\n      })\r\n    return this\r\n  }\r\n\r\n  __setActiveUrl() {\r\n    const escapedPathname = location.pathname\r\n      .replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&')\r\n    document.querySelectorAll('.link--active').forEach(element =>\r\n      element.classList.remove('link--active')\r\n    )\r\n    ;([...document.querySelectorAll('a[href]')])\r\n      .filter(element => {\r\n        const href = element.href.replace(location.origin, '')\r\n        return new RegExp(\"^\" + escapedPathname + \"$\").test(href)\r\n      })\r\n      .forEach(element => element.classList.add('link--active'))\r\n  }\r\n\r\n  getState(path) {\r\n    return { ...this.__state }\r\n  }\r\n\r\n  setState(path, stateUpdater) {\r\n    if (typeof path === 'string') path = path.split('.')\r\n    path = path || ['global']\r\n    const oldState = this.__state\r\n    const lens = lensPath(path)\r\n    // set the new state\r\n    const newState = over(lens, stateUpdater, this.__state)\r\n    // const newState = stateUpdater(this.__state)\r\n    if (newState === this.__state) {\r\n      throw new Error('Do not mutate the state, please return a new object for the state')\r\n    }\r\n    this.__state = newState\r\n\r\n    // trigger any subscribers\r\n    for (const [subscribePath, subscribers] of this.__subscribers) {\r\n      const subscribeLens = lensPath(subscribePath.split('.'))\r\n      const a = view(subscribeLens, oldState)\r\n      const b = view(subscribeLens, newState)\r\n      // check to see if the previous state has changed at this path\r\n      if (!equals(a, b)) {\r\n        // state has changed, fire the events\r\n        subscribers.forEach(({ instance, cb }) => {\r\n          if (instance[INITIALIZED]) {\r\n            over(subscribeLens, cb, newState)\r\n          }\r\n        })\r\n      }\r\n    }\r\n    return this\r\n  }\r\n\r\n  subscribe(instance, path, cb) {\r\n    path = !path ? 'global' : Array.isArray(path) ? path.join('.') : path\r\n    let listeners = []\r\n    if (this.__subscribers.has(path)) {\r\n      listeners = this.__subscribers.get(path)\r\n    }\r\n    const containsListener = listeners.some(listener => listener.cb === cb && listener.instance === instance)\r\n    // only set a callback once\r\n    if (!containsListener) {\r\n      listeners.push({ instance, cb, state: {} })\r\n    }\r\n    this.__subscribers.set(path, listeners)\r\n  }\r\n\r\n  unsubscribe(instance, path, cb) {\r\n    path = Array.isArray(path) ? path.join('.') : String(path)\r\n    const subscribers = this.__subscribers.get(path)\r\n    const newEvents = subscribers.filter(subscriber =>\r\n      subscriber.instance !== instance && subscriber.cb !== cb\r\n    )\r\n    this.__subscribers.set(path, newEvents)\r\n    return true\r\n  }\r\n\r\n  trigger(path) {\r\n    if (this.__subscribers.has(path)) {\r\n      this.__subscribers.get(path).forEach(({ cb, instance }) => {\r\n        if (instance[INITIALIZED]) {\r\n          cb(this.getState())\r\n          // send a signal through the browser event system so it can be subscribed to from anywhere\r\n          window.dispatchEvent(new CustomEvent(path, {\r\n            detail: {\r\n              state: view(lensPath(path), this.getState()),\r\n              instance\r\n            },\r\n          }))\r\n        }\r\n      })\r\n    }\r\n  }\r\n\r\n}\r\n","import Node from './Node'\r\n\r\nexport default class ExtendablePlugin extends Node {\r\n\r\n  [Symbol.toStringTag] = 'ExtendablePlugin'\r\n\r\n  getters = []\r\n\r\n  constructor(config) {\r\n    super(config)\r\n    for (const key of Object.keys(this.config)) {\r\n      Object.defineProperty(this, key, {\r\n        get: () => this.config[key],\r\n        set: (value) => this.config[key] = value\r\n      })\r\n    }\r\n    for (key of this.getters) {\r\n      Object.defineProperty(this, key, {\r\n        get: () => this.config[key],\r\n        set: (value) => this.config[key] = value\r\n      })\r\n    }\r\n  }\r\n  init({ request }) {\r\n    return request.url\r\n  }\r\n}\r\n","import { INITIALIZED } from '../symbols'\r\nimport log from '../utils/log'\r\nimport Node from './Node'\r\n\r\nexport default class Import extends Node {\r\n\r\n  [Symbol.toStringTag] = 'Import';\r\n\r\n  constructor(importer, nodes = []) {\r\n    super({}, nodes)\r\n    this.__promise = null\r\n    this.importer = importer\r\n  }\r\n  initChildren() {\r\n    this.nodes.forEach(node => node.parent = this)\r\n  }\r\n  initPromise({ request }) {\r\n    return (this.__promise = this.__promise || this.importer({ request }))\r\n  }\r\n  popstatePromise({ request }) {\r\n    return (this.__promise = this.__promise || this.importer({ request }))\r\n  }\r\n  runInit({ request }) {\r\n    return super.runInit({ request })\r\n      .then(result =>\r\n        this[INITIALIZED] && this.__promise && this.__promise.then(node => {\r\n          node.default.parent = this\r\n          return node.default.runInit({ request })\r\n        })\r\n      )\r\n  }\r\n  runPopstate({ request }) {\r\n    return super.runPopstate({ request })\r\n      .then(result =>\r\n        this[INITIALIZED] && this.__promise && this.__promise.then(node =>\r\n          node.default.runPopstate({ request })\r\n        )\r\n      )\r\n  }\r\n  runDestroy({ request }) {\r\n    return super.runDestroy({ request })\r\n      .then(result =>\r\n        this.__promise && this.__promise.then(node =>\r\n          node.default.runDestroy({ request })\r\n        )\r\n      )\r\n  }\r\n  init({ request }) {\r\n    return this.url\r\n  }\r\n}\r\n","import { INITIALIZED } from '../symbols'\r\nimport log from '../utils/log'\r\nimport Node from './Node'\r\n\r\nexport default class Lazy extends Node {\r\n\r\n  [Symbol.toStringTag] = 'Lazy';\r\n\r\n  constructor(importer, config, nodes = []) {\r\n    super(config, nodes)\r\n    this.__promise = null\r\n    this.importer = importer\r\n    this.instance = null\r\n  }\r\n  initChildren() {\r\n    // this.instance.parent = this\r\n  }\r\n  initPromise({ request }) {\r\n    return (this.__promise = this.__promise || this.importer({ request }))\r\n  }\r\n  popstatePromise({ request }) {\r\n    return (this.__promise = this.__promise || this.importer({ request }))\r\n  }\r\n  runInit({ request }) {\r\n    return super.runInit({ request })\r\n      .then(result =>\r\n        this[INITIALIZED] && this.__promise && this.__promise.then(node => {\r\n          this.instance = new node.default(this.config)\r\n          this.instance.runInit({request})\r\n          return this.instance\r\n        })\r\n      )\r\n  }\r\n  runPopstate({ request }) {\r\n    return super.runPopstate({ request })\r\n      .then(result =>\r\n        this[INITIALIZED] && this.__promise && this.__promise.then(node =>\r\n          this.instance.runPopstate({ request })\r\n        )\r\n      )\r\n  }\r\n  runDestroy({ request }) {\r\n    return super.runDestroy({ request })\r\n      .then(result =>\r\n        this.__promise && this.__promise.then(node =>\r\n          this.instance.runDestroy({ request })\r\n        )\r\n      )\r\n  }\r\n  init({ request }) {\r\n    return this.url\r\n  }\r\n}\r\n","import Node from './Node'\r\n\r\nexport default class Module extends Node {\r\n\r\n  [Symbol.toStringTag] = 'Module'\r\n\r\n  constructor(nodes) {\r\n    super({}, nodes)\r\n  }\r\n  init({ request }) {\r\n    return request.url\r\n  }\r\n}\r\n","import Node from './Node'\r\n\r\nimport { tap, log } from '../utils'\r\n\r\nexport default class Plugin extends Node {\r\n\r\n  [Symbol.toStringTag] = 'Plugin'\r\n\r\n  constructor(options) {\r\n    super(options)\r\n  }\r\n  init({ request }) {\r\n    return request.url\r\n  }\r\n}\r\n","import { INITIALIZED } from '../symbols'\r\n\r\nimport Node from './Node'\r\n\r\nexport default class Predicate extends Node {\r\n\r\n  [Symbol.toStringTag] = 'Predicate';\r\n\r\n  shouldInitialize({ request }) {\r\n    return !this.parent || (this.parent[INITIALIZED] && this.predicate({ request }))\r\n  }\r\n  predicate({ request }) {\r\n    throw new Error(`Predicate class must contain a predicate method that returns a boolean`)\r\n  }\r\n}\r\n","import qs from 'query-string'\r\n\r\nimport {mergeDeepRight, pad, trace} from '../utils'\r\nimport regexify from '../utils/regexify'\r\nimport Predicate from './Predicate'\r\n\r\nexport default class Route extends Predicate {\r\n\r\n  [Symbol.toStringTag] = 'Route';\r\n\r\n  static plugin = {\r\n    color: '#A82DFF',\r\n    debug: true,\r\n  }\r\n\r\n  constructor(url, nodes = []) {\r\n    super({ url }, nodes)\r\n  }\r\n  predicate({ request }) {\r\n    return this.parser.regex.test(request.pathname)\r\n  }\r\n\r\n  processHref({ href, regex, params, keywords, index }) {\r\n    const matches = href.match(regex)\r\n    return !matches ? {} : index.reduce((acc, x, i) => ({\r\n      ...acc,\r\n      [x]: matches[i + 1]\r\n    }), {})\r\n  }\r\n\r\n  createNewRequest({ request }) {\r\n    const parser = regexify(this.config.url)\r\n    const params = this.processHref({ href: request.pathname, ...parser })\r\n    const search = qs.parse(location.search.slice(1), {\r\n      plainObjects: true,\r\n    })\r\n    this.parser = parser\r\n    this.params = params\r\n    this.search = search\r\n    request.params = mergeDeepRight(request.params, params)\r\n    return {\r\n      ...request,\r\n      params: {\r\n        ...(request.params && request.params),\r\n        ...params\r\n      },\r\n      search\r\n    }\r\n  }\r\n\r\n  // @impure\r\n  decorateRequest({ request }) {\r\n    // parse the url\r\n    this.parser = regexify(this.config.url)\r\n    // check if the current url matches, if it does return the params as key: value pairs\r\n    this.params = this.processHref({ href: request.pathname, ...this.parser })\r\n    // add the current params to the existing request object so child Nodes can use them\r\n    // NOTE: this could be immutable\r\n    request.combineParams({ params: this.params })\r\n    return request\r\n  }\r\n\r\n  runInit({ request }) {\r\n    // const newRequest = this.createNewRequest({ request })\r\n    // return super.runInit({ request: newRequest })\r\n    return super.runInit({ request: this.decorateRequest({ request })})\r\n  }\r\n\r\n  runPopstate({ request }) {\r\n    // const newRequest = this.createNewRequest({ request })\r\n    // return super.runPopstate({ request: newRequest })\r\n    return super.runPopstate({ request: this.decorateRequest({ request }) })\r\n  }\r\n\r\n info(method, ...args) {\r\n    let plugin = this.constructor.plugin\r\n    if (this.magna.debug && (typeof plugin === 'undefined' || plugin.debug === true)) {\r\n      plugin = plugin || { debug: true, color: '#777' }\r\n      console.groupCollapsed(`%c%s %c%s`, 'color:#aaa', pad(10, this[Symbol.toStringTag]), `color: ${plugin.color}`, `${this.constructor.name}::${method}`, this.config.url)\r\n      console.log(this, ...args)\r\n      console.groupEnd()\r\n    }\r\n  }\r\n\r\n}\r\n\r\n","import Node from './Node'\r\n\r\nimport { tap, log } from '../utils'\r\n\r\nexport default class Singleton extends Node {\r\n\r\n  [Symbol.toStringTag] = 'Singleton'\r\n  initialized = false\r\n\r\n  constructor(options) {\r\n    super(options)\r\n  }\r\n  shouldInitialize({ request }) {\r\n    if (this.initialized)\r\n      return false\r\n    return (this.initialized = true)\r\n  }\r\n  init({ request }) {\r\n    return request.url\r\n  }\r\n}","import Predicate from '../types/Predicate';\r\n\r\nexport class ElementExists extends Predicate {\r\n\r\n    [Symbol.toStringTag] = 'ElementExists';\r\n\r\n    constructor(selector, nodes) {\r\n        super({selector}, nodes)\r\n    }\r\n    predicate({ request }) {\r\n        return !!document.querySelector(this.config.selector)\r\n    }\r\n}\r\n\r\nexport default (selector, nodes) =>\r\n  new ElementExists(selector, nodes)\r\n","import Node from '../types/Node'\r\nimport { INITIALIZED } from '../symbols';\r\n/*\r\n* one\r\n*\r\n* Initialize the child nodes when the user fires an event from a page interaction\r\n*\r\n* ```\r\n* import { Plugin, one } from '@carednavmagna'\r\n* import { one } from '@magna/predicates/one'\r\n*\r\n* magna.use([\r\n*   one('click', '#my-element', [\r\n*     new Plugin()\r\n*   ])\r\n* ])\r\n* ```\r\n*/\r\nexport class One extends Node {\r\n\r\n  #target = null\r\n  #callback = null\r\n\r\n  constructor(event, target, nodes) {\r\n    super({ event, target }, nodes)\r\n  }\r\n\r\n  runInit({ request }) {\r\n    this[INITIALIZED] = true\r\n    // don't init the node, bind the event listener\r\n    this.#target = document.querySelector(this.config.target)\r\n    this.#target.addEventListener(this.config.event, (this.#callback = e => {\r\n      // remove the event after it has been fired\r\n      this.#target.removeEventListener(this.config.event, this.#callback)\r\n      // once the event listener has fired load the node\r\n      super.runInit({ request })\r\n    }))\r\n  }\r\n\r\n  runDestroy({ request }) {\r\n    // unbind the event\r\n    this.#target.removeEventListener(this.config.event, this.#callback)\r\n    // run destroy\r\n    return super.runDestroy({ request })\r\n  }\r\n\r\n}\r\n\r\nexport default (target, event, nodes) =>\r\n  new One(target, event, nodes)\r\n","import Node from '../types/Node'\r\n\r\nexport class OnlyOnRouteChange extends Node {\r\n\r\n  constructor(pattern, nodes) {\r\n    super(pattern, nodes)\r\n    this.nodes = nodes\r\n    this.pattern = pattern\r\n    this.regex = regexify(pattern)\r\n  }\r\n\r\n  initNodes({ request }) {\r\n    if (this.regex.test(request.prev) !== this.regex.test(request.pathname)) {\r\n      return super.initNodes({ request })\r\n    }\r\n    return Promise.resolve('OnlyOnRouteChange:same-url')\r\n  }\r\n\r\n  initDestroy({ request }) {\r\n    if (this.regex.test(request.prev) !== this.regex.test(request.pathname)) {\r\n      return super.initDestroy({ request })\r\n    }\r\n    return Promise.resolve('OnlyOnRouteChange:same-url')\r\n  }\r\n\r\n}\r\n\r\nexport default (url, nodes) =>\r\n  new OnlyOnRouteChange(url, nodes)\r\n","import Route from '../types/Route'\r\n\r\nexport { default as Route } from '../types/Route'\r\n\r\nexport default (url, nodes) =>\r\n  new Route(url, nodes)\r\n","import Node from '../types/Node'\r\nimport { INITIALIZED } from '../symbols'\r\n\r\n/*\r\n* subscribe\r\n*\r\n* Subscribe to state changes, when the state changes the plugin will be initialized\r\n* It will only ever initialize once per lifecycle, which is reset when popstate fires\r\n*\r\n* ```\r\n* import { Plugin, subscribe } from '@coredna/magna'\r\n*\r\n* magna.use([\r\n*   subscribe('my.custom.event', [\r\n*     new Plugin()\r\n*   ])\r\n* ])\r\n* ```\r\n*/\r\nexport class Subscribe extends Node {\r\n\r\n  constructor(event, nodes) {\r\n    super({ event }, nodes)\r\n  }\r\n\r\n  runInit({ request }) {\r\n    // INITIALIZED must be set for the event to fire when the state is changed\r\n    this[INITIALIZED] = true\r\n    // don't init the node, bind the event listener\r\n    this.subscribe(this.config.event, (this.__onEvent = e => {\r\n      // once the event listener has fired load the node\r\n      this.unsubscribe(this.config.event, this.__onEvent)\r\n      super.runInit({ request })\r\n    }))\r\n  }\r\n\r\n  runDestroy({ request }) {\r\n    // unbind the event\r\n    this.unsubscribe(this.config.event, this.__onEvent)\r\n    // run destroy\r\n    super.runDestroy({ request })\r\n  }\r\n}\r\n\r\nexport default (target, event, nodes) =>\r\n  new Subscribe(target, event, nodes)\r\n"],"names":["INITIALIZED","Symbol","INIT_PROMISE","INIT_DONE","POPSTATE_PROMISE","POPSTATE_DONE","message","color","console","groupCollapsed","args","log","groupEnd","isObject","possibleObject","Object","prototype","toString","call","mergeDeepRight","left","right","ret","key","hasOwnProperty","pad","count","string","char","repeat","length","getRootNode","node","parent","PARENTS","Map","ROOT","makeId","id","PropagateError","Error","BubbleError","toStringTag","Node","config","nodes","constructor","defaultConfig","Promise","resolve","initChildren","forEach","request","response","info","shouldInitialize","initPromise","popstatePromise","all","getParentInitPromise","getInitPromise","then","parentResponse","init","error","runCatch","map","runInit","getParentPopstatePromise","getPopstatePromise","parentPopstateResult","popstateResult","popstate","runPopstate","resolved","runDestroy","destroy","onPropagateError","stack","onBubbleError","onCatch","name","self","method","plugin","magna","debug","path","stateReducer","setState","getState","cb","subscribe","unsubscribe","get","set","has","escapeRegexCharacters","replace","StateObserver","target","setPrototypeOf","Proxy","handler","obj","prop","receiver","proxied","apply","val","State","state","__state","newState","oldState","always","stateUpdater","Array","isArray","join","lens","lensPath","over","view","__subscribers","Set","add","entries","filter","value","RegExp","test","currentView","currentState","clone","subscribePath","subscribers","subscribeLens","oldView","newView","equals","decodeComponent","combineUrlParams","url","params","queryIndex","indexOf","urlSlug","slice","urlParams","qs","parse","newQueryParams","stringify","encode","arrayFormat","getOwnPropertyNames","debounce","timeout","callback","timer","e","arguments","clearTimeout","setTimeout","logAction","action","instance","env","group","logRoute","location","pathname","type","prettify","str","radioClass","classes","el","_radioClass","clazz","document","querySelector","x","classList","remove","regexify","index","_","param","skippable","push","regex","tap","fn","trace","uglify","toLowerCase","prev","createUUid","Request","uuid","href","query","scrollTop","title","origin","queryStringParams","search","Magna","__setActiveUrl","window","addEventListener","preventDefault","destroyResults","xs","dataLayer","event","setScrollOnPopstate","history","replaceState","body","pushStateWithRequest","pushState","responses","escapedPathname","querySelectorAll","element","split","a","b","listeners","containsListener","some","listener","String","newEvents","subscriber","dispatchEvent","CustomEvent","detail","ExtendablePlugin","defineProperty","keys","getters","Import","importer","__promise","result","Lazy","Module","Plugin","options","Predicate","predicate","Route","parser","keywords","matches","match","reduce","acc","i","processHref","plainObjects","combineParams","decorateRequest","Singleton","initialized","ElementExists","selector","One","removeEventListener","OnlyOnRouteChange","pattern","Subscribe","__onEvent"],"mappings":"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"}